"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[1168],{8954:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var r=s(7359),a=s(6190),n=s(9582),o=s(4886),i=s(266),l=s(5125),u=s(1713),d=s(7808),c=function(){var e=this,t=e._self._c;return e.currentUser?t(l.Z,{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(u.Z,{attrs:{justify:"center"}},[t(i.Z,{attrs:{sm:"10"}},[t(n.Z,{attrs:{tile:""}},[t(o.ZB,[t(d.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti ime"],label:"Ime"},model:{value:e.currentUser.firstName,callback:function(t){e.$set(e.currentUser,"firstName",t)},expression:"currentUser.firstName"}}),t(d.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti prezime"],label:"Prezime"},model:{value:e.currentUser.lastName,callback:function(t){e.$set(e.currentUser,"lastName",t)},expression:"currentUser.lastName"}}),t(d.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti korisničko ime"],label:"Korisničko ime"},model:{value:e.currentUser.username,callback:function(t){e.$set(e.currentUser,"username",t)},expression:"currentUser.username"}}),t(d.Z,{attrs:{filled:"",shaped:"",label:"Nova lozinka",required:"","error-messages":e.errorPassword,rules:[e=>e.length>0||"Morate unijeti lozinku"],"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.newpassword,callback:function(t){e.newpassword=t},expression:"newpassword"}}),t(d.Z,{attrs:{filled:"",shaped:"",label:"Potvrdite novu lozinku",required:"",rules:[e.passwordConfirmationRule,e.cannotEmpty],"error-messages":e.errorPassword,"append-icon":e.showRePass?"mdi-eye":"mdi-eye-off",type:e.showRePass?"text":"password"},on:{"click:append":function(t){e.showRePass=!e.showRePass}},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}}),e.error?t(r.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(a.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},p=[],f=(s(2801),s(3304)),m={data:()=>({currentUser:null,isValid:!0,isUpdating:!1,showPass:!1,showRePass:!1,errorPassword:"",newpassword:"",rePassword:"",error:""}),computed:{passwordConfirmationRule(){return()=>this.newpassword===this.rePassword||"Lozinke se ne poklapaju"},cannotEmpty(){return()=>""!==this.newpassword||""!==this.rePassword||"Morate unijeti lozinku"}},watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){f.Z.editUser(this.$route.params.id,{firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,username:this.currentUser.username,password:this.newpassword}).then((e=>{console.log(e.data);let t=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),s=JSON.parse(t),r=s.id;parseInt(this.$route.params.id)===r&&(localStorage.removeItem("token"),this.$router.push({path:"/login"}))})).catch((e=>{this.error=e.response.data.message,console.log(e)}))},getUsers(e){f.Z.getUser(e).then((e=>{this.currentUser=e.data})).catch((e=>{console.log(e)}))}},mounted(){this.getUsers(this.$route.params.id)}},h=m,g=s(1001),w=(0,g.Z)(h,c,p,!1,null,null,null),k=w.exports},1713:function(e,t,s){s(1884);var r=s(144),a=s(1767),n=s(5352);const o=["sm","md","lg","xl"],i=["start","end","center"];function l(e,t){return o.reduce(((s,r)=>(s[e+(0,n.jC)(r)]=t(),s)),{})}const u=e=>[...i,"baseline","stretch"].includes(e),d=l("align",(()=>({type:String,default:null,validator:u}))),c=e=>[...i,"space-between","space-around"].includes(e),p=l("justify",(()=>({type:String,default:null,validator:c}))),f=e=>[...i,"space-between","space-around","stretch"].includes(e),m=l("alignContent",(()=>({type:String,default:null,validator:f}))),h={align:Object.keys(d),justify:Object.keys(p),alignContent:Object.keys(m)},g={align:"align",justify:"justify",alignContent:"align-content"};function w(e,t,s){let r=g[e];if(null!=s){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${s}`,r.toLowerCase()}}const k=new Map;t["Z"]=r.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...d,justify:{type:String,default:null,validator:c},...p,alignContent:{type:String,default:null,validator:f},...m},render(e,{props:t,data:s,children:r}){let n="";for(const a in t)n+=String(t[a]);let o=k.get(n);if(!o){let e;for(e in o=[],h)h[e].forEach((s=>{const r=t[s],a=w(e,s,r);a&&o.push(a)}));o.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),k.set(n,o)}return e(t.tag,(0,a.ZP)(s,{staticClass:"row",class:o}),r)}})}}]);
//# sourceMappingURL=1168.c1b8b71b.js.map