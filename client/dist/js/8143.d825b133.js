"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[8143],{1523:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var i=a(6190),o=a(9582),l=a(4886),s=a(3863),n=a(4061),r=a(9223),d=a(4324),c=a(3687),u=a(7808),m=function(){var e=this,t=e._self._c;return t(o.Z,[t(l.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista komentara ")]),t(c.Z),t(u.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(l.ZB,[t(s.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":20,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:a}){return[t(d.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editComment(a.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:a}){return[[t("div",{staticClass:"text-center"},[[t(i.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(a.id)}}},[t(d.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(n.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(o.Z,[t(l.EB,[e._v(" Brisanje komentara ")]),t(l.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovaj komentar? ")]),t(r.Z),t(l.h7,[t(c.Z),t(i.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(i.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteComments(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},h=[],p=a(3304),v={data:()=>({items:[],dialog:!1,headers:[{text:"Komentar",value:"comment",sortable:!0},{text:"Autor",value:"author",sortable:!0},{text:"Post",value:"Post.title",sortable:!0},{text:"Odobren",value:"approved",sortable:!0},{text:"Kreiran",value:"createdAt",sortable:!0},{text:"Poslednje izmjene",value:"updatedAt",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}],search:""}),methods:{editComment(e){this.$router.push({path:`/comment/${e}/edit`,params:{id:e}})},deleteComments(e){p.Z.deleteComment(e).then((e=>{console.log(e),window.location.reload()})).catch((e=>{console.log(e.message)}))},deleteItem(e){this.id=e,this.dialog=!0}},mounted(){p.Z.getCommentsList().then((e=>{this.items=e.data,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString()}))})).catch((e=>{console.log(e.response)}))}},f=v,b=a(1001),g=(0,b.Z)(f,m,h,!1,null,null,null),Z=g.exports}}]);
//# sourceMappingURL=8143.d825b133.js.map