{"version":3,"file":"js/7797.0b15cca1.js","mappings":"iQAA4J,W,IAA+DA,EAAAA,KAA/D,a,OAAwG,EAAC,K,YAAM,0DAAN,OAAaC,MAAG,EAAD,QAAWC,SAAM,YAAC,UAAO,CAAR,EAAcD,WAAG,Y,CAAwF,O,MAAY,CAAY,SAAhC,QAAwGE,MAAM,CAACC,KAAOC,K,GAAoCA,EAAAA,GAAUC,CAAAA,EAAVC,GAAA,oC,MAA5C,CAA2DP,OAAU,GAArE,UAAkFK,MAAD,SAAoBH,MAAM,yC,MAAkB,CAAgB,MAAMG,EAAIG,MAA5C,qBAAmDH,EAAII,MAAQ,CAAgBP,EAAO,WAAD,WAAyB,MAAQ,EAAjC,O,MAAoC,CAAkB,eAA2B,MAAQ,QAAQ,MAAU,OAAmD,SAAW,KAAzK,MAAP,CAAsL,OAAC,GAAC,OAASG,GAAjM,SAAmNF,eAAM,GAACC,cAAWM,aAAOC,MAAQ,Q,MAAqBD,CAAAA,KAAJ,wBAAc,OAA1D,UAA2DV,SAAW,IAAzlB,GAAsmB,CAAeE,OAAM,gB,MAAwB,CAA/B,cAAkEC,SAAM,YAACC,EAAK,MAAMQ,CAASD,E,WAA6BC,WAAaZ,EAAAA,aAAW,CAA1E,OAAuFC,gBAAG,OAAkBC,cAAM,iB,MAAa,CAAY,QAAQG,QAAa,kBAAY,GAAW,UAAa,CAAK,EAA0B,WAAjH,aAAiJ,MAAQ,C,MAAa,CAA7K,UAAgNF,OAAM,GAACC,MAAOC,EAAIQ,SAAYF,YAAS,W,aAAoBE,KAAe,SAApE,aAAqEb,MAAAA,GAArE,qBAAgGC,MAAG,aAASC,iBAAM,gB,MAAyB,CAAhC,mBAAqD,SAAC,YAAC,aAAYY,CAAb,EAAyBT,WAAO,gB,OAE7iDU,MAAAA,CAEJ,UAAiBA,EAAAA,Q,+GCiEjB,GACAC,KAAAA,aACAC,WAAAA,CACAC,UAAAA,EAAAA,IAEAC,KAAAA,KAAAA,CACAP,QAAAA,GACAQ,MAAAA,GACAP,WAAAA,GACAQ,SAAAA,GACAX,MAAAA,KACAF,IAAAA,GACAc,OAAAA,KACAC,SAAAA,EACAC,YAAAA,EACAC,cAAAA,CACA,EAAAC,OAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,KACA,uCACA,EAAAC,KAAAA,WAAA,CAAAA,KAAAA,WACA,EAAAC,MAAAA,IAAA,CAAAA,MAAAA,UAAA,CAAAA,MAAAA,SAAA,CAAAA,MAAAA,YACA,eACA,iBACA,EAAAC,MAAAA,IAAA,CAAAC,WAAAA,QAGAC,MAAAA,CACAP,WAAAA,GACA,GACAQ,YAAAA,IAAAA,KAAAA,YAAAA,GAAAA,IAEA,GAEAC,QAAAA,CACAnB,WACA,mBACA,YACAoB,EAAAA,OAAAA,QAAAA,KAAAA,MAAAA,KAAAA,MAAAA,MAEA,iBACAA,EAAAA,OAAAA,aAAAA,KAAAA,YAEAA,EAAAA,OAAAA,QAAAA,KAAAA,OACAA,EAAAA,OAAAA,UAAAA,KAAAA,SACAA,EAAAA,OAAAA,SAAAA,KAAAA,QACAC,EAAAA,EAAAA,QAAAA,GACAC,MAAAC,IACAC,QAAAA,IAAAA,GACA,mBAAAC,KAAAA,WAAA,IAEAC,OAAAC,IACAH,QAAAA,IAAAA,EAAAA,QAAAA,GAEA,EAEAI,aAAAA,GACA,aACAJ,QAAAA,IAAAA,EACA,EAGAK,OAAAA,GACA,sCACA,iCACA,EAEAC,aACA,6DACA,GAEAC,UACAV,EAAAA,EAAAA,kBACAC,MAAAC,IACA,wBACAG,OAAAC,IACAH,QAAAA,IAAAA,EAAAA,SAAAA,IAGA,oEACA,gBACA,GCpJ4Q,I,UCQxQQ,GAAY,OACd,EACAC,EACAhC,GACA,EACA,KACA,WACA,MAIF,EAAe+B,EAAiB,O","sources":["webpack://kofer_psihoalata/./src/components/admin/posts/CreatePost.vue","webpack://kofer_psihoalata/src/components/admin/posts/CreatePost.vue","webpack://kofer_psihoalata/./src/components/admin/posts/CreatePost.vue?1223","webpack://kofer_psihoalata/./src/components/admin/posts/CreatePost.vue?b0f5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{staticClass:\"row text-center justify-center align-center fill-height\",model:{value:(_vm.isValid),callback:function ($$v) {_vm.isValid=$$v},expression:\"isValid\"}},[_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',[_vm._v(\"Kreiranje posta\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Naslov\",\"rules\":[v => v.length > 1 || 'Morate unijeti naziv']},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),(_vm.url)?_c('img',{attrs:{\"height\":\"100px\",\"width\":\"100px\",\"src\":_vm.url}}):_vm._e(),_c('v-file-input',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"chips\":\"\",\"prepend-icon\":\"\",\"append-icon\":\"mdi-camera\",\"label\":\"Slika\",\"rules\":[v => !!v || 'Slika je obavezna'],\"accept\":\"image/*\",\"required\":\"\"},on:{\"change\":_vm.onFileChange},model:{value:(_vm.image),callback:function ($$v) {_vm.image=$$v},expression:\"image\"}}),_c('vue-editor',{attrs:{\"output-format\":\"html\",\"editorToolbar\":_vm.customToolbar},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('v-autocomplete',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"items\":_vm.category,\"item-text\":\"category\",\"item-value\":\"id\",\"disabled\":_vm.isUpdating,\"chips\":\"\",\"deletable-chips\":\"\",\"label\":\"Kategorija\",\"error-messages\":_vm.matchError()},model:{value:(_vm.categories),callback:function ($$v) {_vm.categories=$$v},expression:\"categories\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.isValid,\"color\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Kreiraj\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-form v-model=\"isValid\" class=\"row text-center justify-center align-center fill-height\">\n    <v-col sm=\"6\">\n      <v-card  tile>\n\n        <v-card-title>Kreiranje posta</v-card-title>\n\n        <v-card-text>\n\n          <v-text-field \n            filled \n            shaped \n            v-model=\"title\" \n            label=\"Naslov\" \n             :rules=\"[v => v.length > 1 || 'Morate unijeti naziv']\"\n          >\n          </v-text-field>\n\n          <img \n            height=\"100px\"\n            width=\"100px\" \n            v-if=\"url\" \n            :src=\"url\"\n          />\n\n          <v-file-input \n            filled \n            shaped \n            chips\n            prepend-icon=\"\" \n            append-icon=\"mdi-camera\" \n            v-model=\"image\" \n            label=\"Slika\" \n            :rules=\"[v => !!v || 'Slika je obavezna']\" \n            accept=\"image/*\" \n            required \n            @change=\"onFileChange\"\n          >\n          </v-file-input>\n\n\n          <vue-editor v-model=\"content\" output-format=\"html\" :editorToolbar=\"customToolbar\"/>\n\n          <v-autocomplete \n            filled\n            shaped\n            v-bind:items = category\n            v-model=\"categories\"\n            item-text = category\n            item-value = id\n            :disabled=\"isUpdating\"\n            chips\n            deletable-chips\n            label=\"Kategorija\"\n            :error-messages='matchError()'\n          >\n          </v-autocomplete>\n\n          <v-btn @click=\"onSubmit\" :disabled=\"!isValid\" color=\"primary\">Kreiraj</v-btn>\n            \n        </v-card-text>\n      </v-card>\n    </v-col>\n  </v-form >\n</template>\n\n<script>\nimport { VueEditor } from \"vue2-editor\";\nimport requests from \"../../../services/services\"\nexport default {\n  name: 'CreatePost',\n  components : {\n    VueEditor\n  },\n  data: () => ({\n    content: ``,\n    title: '',\n    categories: [],\n    category: [],\n    image: null,\n    url: \"\",\n    author: null,\n    isValid:true,\n    isUpdating: false,\n    customToolbar: [\n      [{ header: [false, 2, 3, 4, 5, 6] }],\n      [\"bold\", \"italic\", \"underline\", \"strike\"], \n      [{ list: \"ordered\" }, { list: \"bullet\" }],\n      [{ align: \"\" }, { align: \"center\" }, { align: \"right\"}, { align: \"justify\"}],\n      [\"blockquote\"],\n      [\"link\", \"image\"],\n      [{ color: [] }, { background: [] }], \n    ]\n  }),\n  watch: {\n    isUpdating (val) {\n      if (val) {\n        setTimeout(() => (this.isUpdating = false), 3000)\n      }\n    },\n  },\n  methods: {\n    onSubmit() {\n      let formData = new FormData();\n      if(this.image) {\n        formData.append(\"image\", this.image, this.image.name);\n      }\n      if(this.categories) {\n        formData.append(\"categoryId\", this.categories)\n      }\n      formData.append(\"title\",  this.title);\n      formData.append(\"content\",  this.content);\n      formData.append(\"userId\",  this.author);\n      requests.newPost(formData)\n      .then(response => {\n        console.log(response)\n        this.$router.push({ path: `/posts/` });\n      })\n      .catch(error => {\n        console.log(error.message)\n      })\n    },\n\n    onFileChange(e) {\n      this.image = e\n      console.log(e)\n    },\n    \n\n    remove (item) {\n      const index = this.categories.indexOf(item.id)\n      if (index >= 0) this.categories.splice(index, 1)\n    },\n\n    matchError() { \n      return (this.categories === null) ? \"Morate odabrati kategoriju\" : \"\"\n    },\n  },\n  mounted() {\n    requests.getCategoryList()\n    .then(response => {\n      this.category = response.data;\n    }).catch(error => {\n      console.log(error.response)\n    });\n\n    let token  = JSON.parse(atob(localStorage.getItem('token').split('.')[1]));\n    this.author = token.id\n  }   \n}\n</script>\n\n<style scoped>\n.quillWrapper {\n  margin-bottom: 10px;\n}\n.row .fill-height {\n    /* height: 50vh !important; */\n    align-items: center !important;\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreatePost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreatePost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreatePost.vue?vue&type=template&id=b545a9e8&scoped=true&\"\nimport script from \"./CreatePost.vue?vue&type=script&lang=js&\"\nexport * from \"./CreatePost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreatePost.vue?vue&type=style&index=0&id=b545a9e8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b545a9e8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["expression","_c","attrs","model","value","_vm","$$v","_v","url","_e","image","callback","content","categories","onSubmit","staticRenderFns","name","components","VueEditor","data","title","category","author","isValid","isUpdating","customToolbar","header","list","align","color","background","watch","setTimeout","methods","formData","requests","then","response","console","path","catch","error","onFileChange","remove","matchError","mounted","component","render"],"sourceRoot":""}