(function(){"use strict";var e={1408:function(e,t,s){var r=s(144),a=function(){var e=this,t=e._self._c;return t("router-view")},o=[],i={name:"App"},n=i,l=s(1001),c=(0,l.Z)(n,a,o,!1,null,null,null),d=c.exports,u=s(8345),m=s(998),p=s(9582),h=s(9256),g=function(){var e=this,t=e._self._c;return t(m.Z,[t(p.Z,{attrs:{"fill-height":""}},[t(h.Z,{attrs:{fluid:""}},[t("list-posts"),t("list-comments"),t("list-answers")],1)],1)],1)},f=[],v=s(6190),b=s(4886),w=s(3863),Z=s(4061),k=s(9223),y=s(4324),x=s(3687),_=s(7808),P=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista postova ")]),t(x.Z),t(_.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":5,dense:""},scopedSlots:e._u([{key:"item.image",fn:function({item:s}){return[t("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.$imagePath+s.image}})]}},{key:"item.show",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"green"},on:{click:function(t){return e.showPost(s.id)}}},[e._v("mdi-eye")])]}},{key:"item.edit",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editPost(s.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:s}){return[[t("div",{staticClass:"text-center"},[[t(v.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(s.id)}}},[t(y.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(Z.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(p.Z,[t(b.EB,[e._v(" Brisanje posta ")]),t(b.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovaj post? ")]),t(k.Z),t(b.h7,[t(x.Z),t(v.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(v.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deletePosts(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},C=[],L=s(9669),j=s.n(L);const U=j().create({baseURL:"https://koferpsihoalata.me/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:localStorage.getItem("token")},timeout:1e4});U.interceptors.response.use((e=>e),(e=>(401===e.response.status&&(window.location.href="/login"),Promise.reject(e))));const $={logIn(e){return U.post("api/user/login",e)},getPostsList(){return U.get("api/post")},getPost(e){return U.get(`api/post/${e}`)},newPost(e){return U.post("api/post",e)},editPost(e,t){return U.patch(`api/post/${e}`,t)},deletePost(e){return U.delete(`api/post/${e}`)},getCommentsList(){return U.get("api/comment")},getComment(e){return U.get(`api/comment/${e}`)},newComment(e){return U.post("api/comment",e)},editComment(e,t){return U.patch(`api/comment/${e}`,t)},deleteComment(e){return U.delete(`api/comment/${e}`)},getAnswersList(){return U.get("api/answer")},getAnswer(e){return U.get(`api/answer/${e}`)},newAnswer(e){return U.post("api/answer",e)},editAnswer(e,t){return U.patch(`api/answer/${e}`,t)},deleteAnswer(e){return U.delete(`api/answer/${e}`)},getCategoryList(){return U.get("api/category")},getCategory(e){return U.get(`api/category/${e}`)},newCategory(e){return U.post("api/category",e)},editCategory(e,t){return U.patch(`api/category/${e}`,t)},deleteCategory(e){return U.delete(`api/category/${e}`)},getUserList(){return U.get("api/user")},getUser(e){return U.get(`api/user/${e}`)},newUser(e){return U.post("api/user",e)},editUser(e,t){return U.patch(`api/user/${e}`,t)},deleteUser(e){return U.delete(`api/user/${e}`)},editPassword(e){return U.patch("api/password/",e)},getActivityList(e){return U.get(`api/activity?page=${e}`)}};var I,S,A,V,B=$,O={data:()=>({items:[],dialog:!1,headers:[{text:"Slika",value:"image",type:"image",sortable:!1},{text:"Naslov",value:"title",align:"title",sortable:!0},{text:"Autor",value:"userId",sortable:!0},{text:"Kategorija",value:"categoryId",sortable:!0},{text:"Kreiran",value:"createdAt",sortable:!0},{text:"Poslednje izmjene",value:"updatedAt",sortable:!0},{text:"Detalji",value:"show",sortable:!1},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}],search:""}),methods:{showPost(e){this.$router.push({path:`/post/${e}`,params:{id:e}})},editPost(e){this.$router.push({path:`/post/${e}/edit`,params:{id:e}})},deletePosts(e){B.deletePost(e).then((e=>{console.log(e),window.location.reload()})).catch((e=>{console.log(e.message)}))},deleteItem(e){this.id=e,this.dialog=!0}},mounted(){B.getPostsList().then((e=>{this.items=e.data,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString(),null!==e.userId&&B.getUser(e.userId).then((t=>{e.userId=t.data.username})).catch((e=>{console.log(e.response)})),null!==e.categoryId&&B.getCategory(e.categoryId).then((t=>{e.categoryId=t.data.category})).catch((e=>{console.log(e.response)}))}))})).catch((e=>{console.log(e.response)}))}},z=O,E=(0,l.Z)(z,P,C,!1,null,null,null),N=E.exports,M=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista komentara ")]),t(x.Z),t(_.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":5,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editComment(s.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:s}){return[[t("div",{staticClass:"text-center"},[[t(v.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(s.id)}}},[t(y.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(Z.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(p.Z,[t(b.EB,[e._v(" Brisanje komentara ")]),t(b.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovaj komentar? ")]),t(k.Z),t(b.h7,[t(x.Z),t(v.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(v.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteComments(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},K=[],R={data:()=>({items:[],dialog:!1,headers:[{text:"Komentar",value:"comment",sortable:!0},{text:"Autor",value:"author",sortable:!0},{text:"Post",value:"post.title",sortable:!0},{text:"Odobren",value:"approved",sortable:!0},{text:"Kreiran",value:"createdAt",sortable:!0},{text:"Poslednje izmjene",value:"updatedAt",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}],search:""}),methods:{editComment(e){this.$router.push({path:`/comment/${e}/edit`,params:{id:e}})},deleteComments(e){B.deleteComment(e).then((e=>{console.log(e),window.location.reload()})).catch((e=>{console.log(e.message)}))},deleteItem(e){this.id=e,this.dialog=!0}},mounted(){B.getCommentsList().then((e=>{this.items=e.data,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString()}))})).catch((e=>{console.log(e.response)}))}},T=R,D=(0,l.Z)(T,M,K,!1,null,null,null),q=D.exports,F=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista odgovora ")]),t(x.Z),t(_.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":5,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editAnswer(s.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:s}){return[[t("div",{staticClass:"text-center"},[[t(v.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(s.id)}}},[t(y.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(Z.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(p.Z,[t(b.EB,[e._v(" Brisanje odgovora ")]),t(b.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovaj odgovor? ")]),t(k.Z),t(b.h7,[t(x.Z),t(v.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(v.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteAnswers(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},J=[],H={data:()=>({items:[],dialog:!1,headers:[{text:"Odgovor",value:"answer",sortable:!0},{text:"Autor",value:"author",sortable:!0},{text:"Post",value:"comment.post.title",sortable:!0},{text:"Komentar",value:"comment.comment",sortable:!0},{text:"Odobren",value:"approved",sortable:!0},{text:"Kreiran",value:"createdAt",sortable:!0},{text:"Poslednje izmjene",value:"updatedAt",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}],search:""}),methods:{editAnswer(e){this.$router.push({path:`/answer/${e}/edit`,params:{id:e}})},deleteAnswers(e){B.deleteAnswer(e).then((e=>{console.log(e),window.location.reload()})).catch((e=>{console.log(e.message)}))},deleteItem(e){this.id=e,this.dialog=!0}},mounted(){B.getAnswersList().then((e=>{this.items=e.data,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString()}))})).catch((e=>{console.log(e.response)}))}},G=H,W=(0,l.Z)(G,F,J,!1,null,null,null),Q=W.exports,X={components:{ListPosts:N,ListComments:q,ListAnswers:Q}},Y=X,ee=(0,l.Z)(Y,g,f,!1,null,"04da7bf1",null),te=ee.exports,se=s(1267),re=s(5125),ae=s(3201),oe=s(3059),ie=s(6313),ne=s(7953),le=function(){var e=this,t=e._self._c;return t(m.Z,[t(oe.Z,[t(h.Z,{staticStyle:{background:"rgba(44,44,44,0.5)"},attrs:{fluid:"","fill-height":""}},[t(ae.Z,{attrs:{"align-center":"","justify-center":""}},[t(se.Z,{attrs:{xs12:"",sm8:"",md4:""}},[t(p.Z,{staticClass:"elevation-12"},[t(ie.Z,{attrs:{dark:"",color:"dark"}},[t(ne.qW,[e._v("Prijavi se")])],1),t(b.ZB,[t(re.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t(_.Z,{attrs:{label:"Korisničko ime","append-icon":"mdi-account",required:"",autofocus:"","error-messages":e.errorUsername},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),t(_.Z,{attrs:{label:"Lozinka",required:"","error-messages":e.errorPassword,"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),t("div",{staticClass:"text-center"},[t(v.Z,{attrs:{loading:e.loading,color:"dark",large:"",type:"submit",text:"",rounded:""}},[e._v(" Prijavi se ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},ce=[],de=(s(2801),{data:()=>({form:{username:null,password:null},showPass:!1,errorUsername:"",errorPassword:"",loading:!1}),methods:{login(){B.logIn(this.form).then((e=>{window.localStorage.setItem("token",e.data.token);let t=JSON.parse(atob(localStorage.getItem("token").split(".")[1]));this.loading=!0,this.$router.push({path:"/dashboard/"}),window.location.reload(),console.log(t)})).catch((e=>{console.log(e),this.errorUsername="Pogrešno korisničko ime",this.errorPassword="Pogrešna lozinka",this.loading=!1}))}}}),ue=de,me=(0,l.Z)(ue,le,ce,!1,null,"01b12982",null),pe=me.exports,he=s(6232),ge=s(5550),fe=s(6312),ve=s(266),be=s(8271),we=s(5808),Ze=s(4525),ke=s(9708),ye=s(4611),xe=s(4528),_e=s(7233),Pe=s(1713),Ce=function(){var e=this,t=e._self._c;return t(m.Z,[t(he.Z,{attrs:{app:"","clipped-left":"",color:"black",dark:"",dense:"",elevation:"0"}},[t(ge.Z,{on:{click:function(t){e.drawer=!e.drawer}}}),t(fe.Z,[e._v("Kofer psihoalata")]),t(k.Z),t(xe.Z,{attrs:{bottom:"",left:"",dark:"",rounded:"",transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(v.Z,e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),s),[t(y.Z,{staticClass:"mx-4",attrs:{dense:""}},[e._v("mdi-plus")])],1)]}}])},[t(we.Z,e._l(e.createItems,(function(s,r){return t(Ze.Z,{key:r,attrs:{link:"",to:s.href}},[t(ye.Z,[t(y.Z,[e._v(e._s(s.icon))])],1),t(ke.V9,[e._v(e._s(s.title))])],1)})),1)],1),t(xe.Z,{attrs:{bottom:"",left:"",dark:"",rounded:"",transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(v.Z,e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),s),[t(y.Z,{staticClass:"mx-4",attrs:{dense:""}},[e._v("mdi-cog")])],1)]}}])},[t(we.Z,e._l(e.logOut,(function(s,r){return t(Ze.Z,e._g({key:r},1==r?{click:e.logout}:{click:e.password}),[t(ye.Z,[t(y.Z,[e._v(e._s(s.icon))])],1),t(ke.V9,[e._v(" "+e._s(s.title)+" ")])],1)})),1)],1)],1),t(_e.Z,{attrs:{"mini-variant":e.mini,app:"",clipped:"",color:"black",dark:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(k.Z),t(we.Z,{attrs:{dense:""}},e._l(e.items,(function(s){return t(Ze.Z,{key:s.title,attrs:{link:"",to:s.href},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[t(ye.Z,[t(y.Z,[e._v(e._s(s.icon))])],1),t(ke.km,[t(ke.V9,[e._v(e._s(s.title))])],1)],1)})),1)],1),t(oe.Z,[t(h.Z,{attrs:{fluid:""}},[t(Pe.Z,{staticClass:"fill-height"},[t(ve.Z,[t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)],1)],1)],1),t(be.Z,{attrs:{app:"",fixed:"",inset:"",bottom:""}},[t(ve.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" © Kofer psihoalata. All rights reserved. Powered by "),t("a",{attrs:{href:"https://github.com/nedoder"}},[e._v("nedoder")])])],1)],1)},Le=[],je={name:"AdminLayout",data:()=>({drawer:!1,createDrawer:!1,mini:!1,items:[{title:"Početna",icon:"mdi-view-dashboard",href:"/dashboard"},{title:"Postovi",icon:"mdi-text-box",href:"/posts"},{title:"Komentari",icon:"mdi-comment-question",href:"/comments"},{title:"Odgovori",icon:"mdi-comment-processing",href:"/answers"},{title:"Kategorije",icon:"mdi-group",href:"/category"},{title:"Aktivnosti",icon:"mdi-clipboard-text-clock-outline",href:"/activity"}],createItems:[{title:"Postovi",icon:"mdi-text-box",href:"/create/post"},{title:"Komentari",icon:"mdi-comment-question",href:"/create/comment"},{title:"Odgovori",icon:"mdi-comment-processing",href:"/create/answer"},{title:"Kategorije",icon:"mdi-group",href:"/create/category"}],logOut:[{title:"Podešavanja",icon:"mdi-cog"},{title:"Logout",icon:"mdi-logout"}]}),methods:{logout(){window.localStorage.removeItem("token"),this.$router.push({path:"/login"})},password(){let e=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),t=JSON.parse(e),s=t.id;this.$route.path!=`/user/${s}/edit`&&this.$router.push({path:`/user/${s}/edit`,params:{id:s}})}},mounted(){let e=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),t=JSON.parse(e),s=t.role;1==s&&(this.items.push({title:"Korisnici",icon:"mdi-account-box",href:"/users"}),this.createItems.push({title:"Korisnici",icon:"mdi-account-circle",href:"/create/user"}))}},Ue=je,$e=(0,l.Z)(Ue,Ce,Le,!1,null,"2cd6232a",null),Ie=$e.exports,Se=function(){var e=this,t=e._self._c;return t(h.Z,[t("div",{staticClass:"row text-center justify-center align-center"},[t("div",[t("img",{attrs:{src:s(2707),alt:"Not found",display:"block",margin:"auto","object-fit":"fill",width:"55%"}}),t("div",[t("span",[e._v("Stranica nije pronađena...")])])])])])},Ae=[],Ve={name:"ErrorView"},Be=Ve,Oe=(0,l.Z)(Be,Se,Ae,!1,null,null,null),ze=Oe.exports,Ee=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"loader-wrapper"},[t("svg",{attrs:{viewbox:"0 0 80 80"}},[t("path",{attrs:{d:"M 35 38 L 28 43 L 24 38 L 16 42 L 8 39 L 6 31 L 13 31 L 18 24 L 5 24 L 11 16 L 14 20 L 18 11 L 32 5 L 20 18 L 31 12 L 38 5 L 50 5 L 39 12 L 35 22 L 30 18 L 23 23 L 17 35 L 26 32 L 26 28 L 30 24 L 31 34 L 38 31 L 35 27 L 42 23 L 43 33 L 48 31 L 44 17 L 47 13 L 51 25 L 58 20 L 50 10 L 59 9 L 59 15 L 63 12 L 63 18 L 69 17 L 74 26 L 67 21 L 58 25 L 53 34 L 42 38 L 42 42 L 27 48 L 32 51 L 39 48 L 48 46 L 51 41 L 56 42 L 56 37 L 62 35 L 61 29 L 68 29 L 73 32 L 72 39 L 74 45 L 72 55 L 67 52 L 68 46 L 67 36 L 63 40 L 57 47 L 48 53 L 39 53 L 35 57 L 44 59 L 56 54 L 62 48 L 63 56 L 67 57 L 61 60 L 54 59 L 51 64 L 56 64 L 53 69 L 58 71 L 55 76",fill:"none",stroke:"black","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("under-construction")],1)},Ne=[],Me=function(){var e=this;e._self._c;return e._m(0)},Ke=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"hero",attrs:{id:"home"}},[t("div",{staticClass:"hero-middle"},[t("img",{attrs:{src:s(4283),alt:"Under construction"}})])])}],Re={},Te=(0,l.Z)(Re,Me,Ke,!1,null,"a32be914",null),De=Te.exports,qe={name:"HomePage",components:{UnderConstruction:De},mounted(){window.addEventListener("load",(function(){document.getElementsByClassName("loader-wrapper")[0].style.display="none"}))}},Fe=qe,Je=(0,l.Z)(Fe,Ee,Ne,!1,null,"511359f7",null),He=Je.exports,Ge=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista aktivnosti ")]),t(x.Z)],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"footer-props":{"items-per-page-options":[20]},options:e.options,"server-items-length":e.totalNumberOfItems,dense:""},on:{"update:options":function(t){e.options=t}}})],1)],1)},We=[],Qe={data:()=>({items:[],dialog:!1,totalNumberOfItems:0,options:{page:1,itemsPerPage:20},headers:[{text:"Aktivnost",value:"activity",sortable:!0},{text:"Kreiran",value:"createdAt",sortable:!0}]}),watch:{options:{handler(){this.getDataFromApi()},deep:!0}},methods:{getDataFromApi(){B.getActivityList(this.options.page).then((e=>{this.items=e.data.rows,this.totalNumberOfItems=e.data.count,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString()}))})).catch((e=>{console.log(e.response)}))}},mounted(){B.getActivityList(this.options.page).then((e=>{this.items=e.data.rows,this.totalNumberOfItems=e.data.count,this.items.forEach((e=>{e.createdAt=new Date(e.createdAt).toLocaleString(),e.updatedAt=new Date(e.updatedAt).toLocaleString()}))})).catch((e=>{console.log(e.response)}))}},Xe=Qe,Ye=(0,l.Z)(Xe,Ge,We,!1,null,null,null),et=Ye.exports,tt=s(4127),st=s(5495),rt=function(){var e=this,t=e._self._c;return e.currentPost?t(p.Z,{staticClass:"mx-auto",attrs:{"max-width":"70%",shaped:""}},[t(st.Z,{staticStyle:{height:"400px"},attrs:{src:e.$imagePath+e.currentPost.image}}),t(b.EB,{model:{value:e.currentPost.title,callback:function(t){e.$set(e.currentPost,"title",t)},expression:"currentPost.title"}},[e._v(e._s(e.currentPost.title))]),t(b.ZB,{model:{value:e.currentPost,callback:function(t){e.currentPost=t},expression:"currentPost"}},[e._v(" Kreirao "),t("span",{staticClass:"green--text"},[e._v(e._s(e.currentPost.userId))]),t(k.Z,{staticClass:"mx-2",attrs:{vertical:""}}),e._v(" Izmijenjen "+e._s(new Date(e.currentPost.updatedAt).toLocaleString())+" ")],1),t(b.ZB,{model:{value:e.currentPost.categoryId,callback:function(t){e.$set(e.currentPost,"categoryId",t)},expression:"currentPost.categoryId"}},[t(tt.Z,{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[e._v(" "+e._s(e.currentPost.categoryId)+" ")])],1),t(b.ZB,[t("div",{attrs:{id:"content"},domProps:{innerHTML:e._s(e.currentPost.content)}})]),t(v.Z,{attrs:{text:""},on:{click:e.goBack}},[t(y.Z,{attrs:{small:"",color:"primary"}},[e._v("mdi-keyboard-backspace")]),e._v(" Nazad na listu postova ")],1)],1):e._e()},at=[],ot={data:()=>({currentPost:null,comment:"mdi-message-reply",answer:"mdi-message-reply-text"}),methods:{getPosts(e){B.getPost(e).then((e=>{this.currentPost=e.data,B.getUser(this.currentPost.userId).then((e=>{this.currentPost.userId=e.data.username})).catch((e=>{console.log(e.response)})),B.getCategory(this.currentPost.categoryId).then((e=>{this.currentPost.categoryId=e.data.category})).catch((e=>{console.log(e.response)})),console.log(this.currentPost)})).catch((e=>{console.log(e)}))},goBack(){this.$router.push({path:"/posts"})}},mounted(){this.getPosts(this.$route.params.id)}},it=ot,nt=(0,l.Z)(it,rt,at,!1,null,"458476f5",null),lt=nt.exports,ct=s(344),dt=s(1625),ut=function(){var e=this,t=e._self._c;return t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Kreiranje posta")]),t(b.ZB,[t(_.Z,{attrs:{filled:"",shaped:"",label:"Naslov",rules:[e=>e.length>1||"Morate unijeti naziv"]},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e.url?t("img",{attrs:{height:"100px",width:"100px",src:e.url}}):e._e(),t(dt.Z,{attrs:{filled:"",shaped:"",chips:"","prepend-icon":"","append-icon":"mdi-camera",label:"Slika",rules:[e=>!!e||"Slika je obavezna"],accept:"image/*",required:""},on:{change:e.onFileChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t("vue-editor",{attrs:{"output-format":"html",editorToolbar:e.customToolbar},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.category,"item-text":"category","item-value":"id",disabled:e.isUpdating,chips:"","deletable-chips":"",label:"Kategorija","error-messages":e.matchError()},model:{value:e.categories,callback:function(t){e.categories=t},expression:"categories"}}),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},mt=[],pt=s(2739),ht={name:"CreatePost",components:{VueEditor:pt.bR},data:()=>({content:"",title:"",categories:[],category:[],image:null,url:"",author:null,isValid:!0,isUpdating:!1,customToolbar:[[{header:[!1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote"],["link","image"],[{color:[]},{background:[]}]]}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let e=new FormData;this.image&&e.append("image",this.image,this.image.name),this.categories&&e.append("categoryId",this.categories),e.append("title",this.title),e.append("content",this.content),e.append("userId",this.author),B.newPost(e).then((e=>{console.log(e),this.$router.push({path:"/posts/"})})).catch((e=>{console.log(e.message)}))},onFileChange(e){this.image=e,console.log(e)},remove(e){const t=this.categories.indexOf(e.id);t>=0&&this.categories.splice(t,1)},matchError(){return null===this.categories?"Morate odabrati kategoriju":""}},mounted(){B.getCategoryList().then((e=>{this.category=e.data})).catch((e=>{console.log(e.response)}));let e=JSON.parse(atob(localStorage.getItem("token").split(".")[1]));this.author=e.id}},gt=ht,ft=(0,l.Z)(gt,ut,mt,!1,null,"f4df705c",null),vt=ft.exports,bt=function(){var e=this,t=e._self._c;return e.currentPost?t(re.Z,{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(Pe.Z,{attrs:{justify:"center"}},[t(ve.Z,{attrs:{sm:"10"}},[t(p.Z,{attrs:{tile:""}},[t(b.ZB,[t(_.Z,{attrs:{filled:"",shaped:"",label:"Naziv",rules:[e=>e.length>1||"Morate unijeti naziv"]},model:{value:e.currentPost.title,callback:function(t){e.$set(e.currentPost,"title",t)},expression:"currentPost.title"}}),e.url?t("img",{attrs:{height:"100px",width:"100px",src:e.url}}):e._e(),e.url?e._e():t("img",{attrs:{height:"100px",width:"100px",right:"",src:e.$imagePath+e.currentPost.image}}),t(dt.Z,{attrs:{chips:"",filled:"",shaped:"","append-icon":"mdi-camera","prepend-icon":"",label:"Slika",accept:"image/*"},on:{change:e.onFileChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t("vue-editor",{attrs:{"output-format":"html",editorToolbar:e.customToolbar},model:{value:e.currentPost.content,callback:function(t){e.$set(e.currentPost,"content",t)},expression:"currentPost.content"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.category,disabled:e.isUpdating,"item-value":"id","item-text":"category",chips:"","deletable-chips":"",label:"Kategorija","error-messages":e.matchError()},model:{value:e.currentPost.categoryId,callback:function(t){e.$set(e.currentPost,"categoryId",t)},expression:"currentPost.categoryId"}}),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},wt=[],Zt={components:{VueEditor:pt.bR},data:()=>({category:[],currentPost:null,isValid:!0,image:[],url:null,isUpdating:!1,customToolbar:[[{header:[!1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote"],["link","image"],[{color:[]},{background:[]}]]}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let e=new FormData;this.image&&e.append("image",this.image),e.append("title",this.currentPost.title),e.append("content",this.currentPost.content),e.append("categoryId",this.currentPost.categoryId),B.editPost(this.$route.params.id,e).then((e=>{console.log(e.data),this.$router.push({path:"/posts/"})})).catch((e=>{console.log(e)}))},getPosts(e){B.getPost(e).then((e=>{this.currentPost=e.data,console.log(this.currentPost)})).catch((e=>{console.log(e)}))},getCategories(){B.getCategoryList().then((e=>{this.category=e.data})).catch((e=>{console.log(e)}))},onFileChange(e){const t=e;this.url=t?URL.createObjectURL(t):null},matchError(){return null===this.currentPost.categoryId?"Morate odabrati kategoriju":""}},mounted(){this.getPosts(this.$route.params.id),this.getCategories()}},kt=Zt,yt=(0,l.Z)(kt,bt,wt,!1,null,"8a324178",null),xt=yt.exports,_t={},Pt=(0,l.Z)(_t,I,S,!1,null,null,null),Ct=Pt.exports,Lt=s(7359),jt=s(3423),Ut=s(6900),$t=s(6072),It=function(){var e=this,t=e._self._c;return t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Kreiranje komentara")]),t(b.ZB,[t($t.Z,{attrs:{filled:"",shaped:"",label:"Komentar",rules:[e=>e.length>1||"Morate unijeti komentar"]},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.post,disabled:e.isUpdating,"item-text":"title","item-value":"id",chips:"","deletable-chips":"",label:"Post","error-messages":e.matchError()},scopedSlots:e._u([{key:"selection",fn:function(s){return[t(tt.Z,e._b({staticClass:"short",attrs:{"input-value":s.selected,close:""},on:{click:s.select,"click:close":function(t){return e.remove()}}},"v-chip",s.attrs,!1),[t(jt.Z,{attrs:{left:""}},[t(st.Z,{attrs:{src:e.$imagePath+s.item.image}})],1),t("span",[e._v(" "+e._s(s.item.title)+" ")])],1)]}},{key:"item",fn:function(s){return[[t(Ut.Z,[t(st.Z,{attrs:{src:e.$imagePath+s.item.image}})],1),t(ke.km,[t(ke.V9,{domProps:{innerHTML:e._s(s.item.title)}})],1)]]}}]),model:{value:e.posts,callback:function(t){e.posts=t},expression:"posts"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},St=[],At={data:()=>({isValid:!0,comment:"",isUpdating:!1,author:null,error:"",post:[],posts:[]}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.newComment({comment:this.comment,postId:this.posts,approved:!0,author:this.author}).then((e=>{console.log(e),this.$router.push({path:"/comments/"})})).catch((e=>{this.error=e.response.data.error,console.log(e.message)}))},remove(){this.posts=[]},matchError(){return 0===this.posts.length?"Morate odabrati post":""}},mounted(){B.getPostsList().then((e=>{this.post=e.data})).catch((e=>{console.log(e.response)}));let e=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),t=JSON.parse(e);this.author=t.name+" "+t.lname}},Vt=At,Bt=(0,l.Z)(Vt,It,St,!1,null,"aaaf28e6",null),Ot=Bt.exports,zt=s(120),Et=function(){var e=this,t=e._self._c;return e.currentComment?t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Izmjena komentara")]),t(b.ZB,[t($t.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti komentar"],label:"Komentar"},model:{value:e.currentComment.comment,callback:function(t){e.$set(e.currentComment,"comment",t)},expression:"currentComment.comment"}}),t(zt.Z,{attrs:{label:"Prikaži na stranici"},model:{value:e.currentComment.approved,callback:function(t){e.$set(e.currentComment,"approved",t)},expression:"currentComment.approved"}}),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1):e._e()},Nt=[],Mt={data:()=>({currentComment:null,isValid:!0,isUpdating:!1}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.editComment(this.$route.params.id,{comment:this.currentComment.comment,approved:this.currentComment.approved}).then((e=>{console.log(e.data),this.$router.push({path:"/comments/"})})).catch((e=>{console.log(e)}))},getComments(e){B.getComment(e).then((e=>{this.currentComment=e.data})).catch((e=>{console.log(e)}))}},mounted(){this.getComments(this.$route.params.id)}},Kt=Mt,Rt=(0,l.Z)(Kt,Et,Nt,!1,null,"9e72a0f8",null),Tt=Rt.exports,Dt={},qt=(0,l.Z)(Dt,A,V,!1,null,null,null),Ft=qt.exports,Jt=function(){var e=this,t=e._self._c;return t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Kreiranje odgovora")]),t(b.ZB,[t($t.Z,{attrs:{filled:"",shaped:"",label:"Odgovor",rules:[e=>e.length>1||"Morate unijeti odgovor"]},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.post,disabled:e.isUpdating,"item-text":"title","item-value":"id",chips:"","deletable-chips":"",label:"Post","error-messages":e.matchPostError()},on:{change:e.displayComment},scopedSlots:e._u([{key:"selection",fn:function(s){return[t(tt.Z,e._b({staticClass:"short",attrs:{"input-value":s.selected,close:""},on:{click:s.select,"click:close":function(t){e.removePost(),e.displayComments()}}},"v-chip",s.attrs,!1),[t(jt.Z,{attrs:{left:""}},[t(st.Z,{attrs:{src:e.$imagePath+s.item.image}})],1),t("span",[e._v(" "+e._s(s.item.title)+" ")])],1)]}},{key:"item",fn:function(s){return[[t(Ut.Z,[t(st.Z,{attrs:{src:e.$imagePath+s.item.image}})],1),t(ke.km,[t(ke.V9,{domProps:{innerHTML:e._s(s.item.title)}})],1)]]}}]),model:{value:e.posts,callback:function(t){e.posts=t},expression:"posts"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.comment,"item-text":"comment","item-value":"id",disabled:e.isUpdating,chips:"","deletable-chips":"",label:"Komentar","error-messages":e.matchCommentError()},on:{change:e.displayPost},scopedSlots:e._u([{key:"selection",fn:function(s){return[t(tt.Z,e._b({staticClass:"short",attrs:{"input-value":s.selected,close:""},on:{click:s.select,"click:close":function(t){e.removeComment(),e.displayPosts()}}},"v-chip",s.attrs,!1),[t("span",[e._v(" "+e._s(s.item.comment)+" ")])])]}},{key:"item",fn:function(s){return[[t(ke.km,[t(ke.V9,{domProps:{innerHTML:e._s(s.item.comment)}})],1)]]}}]),model:{value:e.comments,callback:function(t){e.comments=t},expression:"comments"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},Ht=[],Gt={data:()=>({isValid:!0,answer:"",isUpdating:!1,author:null,error:"",comment:[],comments:[],post:[],posts:[]}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.newAnswer({answer:this.answer,commentId:this.comments,approved:!0,author:this.author}).then((e=>{console.log(e),this.$router.push({path:"/answers/"})})).catch((e=>{this.error=e.response.data.error,console.log(e.message)}))},displayComment(){this.comment=[],B.getPost(this.posts).then((e=>{e.data.comments.forEach((e=>{this.comment.push(e)}))})).catch((e=>{console.log(e.response)}))},displayComments(){this.comment=[],B.getCommentsList().then((e=>{this.comment=e.data})).catch((e=>{console.log(e.response)}))},displayPost(){this.post=[],B.getComment(this.comments).then((e=>{this.post.push(e.data.post)})).catch((e=>{console.log(e.response)}))},displayPosts(){this.post=[],B.getPostsList().then((e=>{this.post=e.data})).catch((e=>{console.log(e.response)}))},removeComment(){this.comments=[]},removePost(){this.posts=[]},matchCommentError(){return 0===this.comments.length?"Morate odabrati komentar":""},matchPostError(){return 0===this.posts.length?"Morate odabrati post":""}},mounted(){B.getCommentsList().then((e=>{this.comment=e.data})).catch((e=>{console.log(e.response)})),B.getPostsList().then((e=>{this.post=e.data})).catch((e=>{console.log(e.response)}));let e=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),t=JSON.parse(e);this.author=t.name+" "+t.lname}},Wt=Gt,Qt=(0,l.Z)(Wt,Jt,Ht,!1,null,"591d1d86",null),Xt=Qt.exports,Yt=function(){var e=this,t=e._self._c;return e.currentAnswer?t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Izmjena odgovora")]),t(b.ZB,[t($t.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti odgovor"],label:"Odgovor"},model:{value:e.currentAnswer.answer,callback:function(t){e.$set(e.currentAnswer,"answer",t)},expression:"currentAnswer.answer"}}),t(zt.Z,{attrs:{label:"Prikaži na stranici"},model:{value:e.currentAnswer.approved,callback:function(t){e.$set(e.currentAnswer,"approved",t)},expression:"currentAnswer.approved"}}),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1):e._e()},es=[],ts={data:()=>({currentAnswer:null,isValid:!0,isUpdating:!1}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.editAnswer(this.$route.params.id,{answer:this.currentAnswer.answer,approved:this.currentAnswer.approved}).then((e=>{console.log(e.data),this.$router.push({path:"/answers/"})})).catch((e=>{console.log(e)}))},getAnswers(e){B.getAnswer(e).then((e=>{this.currentAnswer=e.data})).catch((e=>{console.log(e)}))}},mounted(){this.getAnswers(this.$route.params.id)}},ss=ts,rs=(0,l.Z)(ss,Yt,es,!1,null,"6421ec18",null),as=rs.exports,os=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista usera ")]),t(x.Z),t(_.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editUser(s.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:s}){return[[t("div",{staticClass:"text-center"},[[t(v.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(s.id)}}},[t(y.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(Z.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(p.Z,[t(b.EB,[e._v(" Brisanje usera ")]),t(b.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovog usera? ")]),t(k.Z),t(b.h7,[t(x.Z),t(v.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(v.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteUsers(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},is=[],ns={data:()=>({items:[],dialog:!1,search:"",headers:[{text:"Korisničko ime",value:"username",sortable:!0},{text:"Ime",value:"firstName",sortable:!0},{text:"Prezime",value:"lastName",sortable:!0},{text:"Privilegija",value:"role",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}]}),methods:{editUser(e){this.$router.push({path:`/users/${e}/edit`,params:{id:e}})},deleteUser(e){B.deleteUser(e).then((t=>{console.log(t);var s=localStorage.getItem("token").split(".")[1],r=s.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));a=JSON.parse(a);let o=a.userId;e==o&&this.$router.push({path:"/login"}),window.location.reload()})).catch((e=>{console.log(e.message)})),console.log(e)},deleteItem(e){console.log(e),this.id=e,this.dialog=!0}},mounted(){B.getUserList().then((e=>{this.items=e.data,this.items.forEach((e=>{1===e.role?e.role="Administrator":e.role="Moderator"}))})).catch((e=>{console.log(e.response)}))}},ls=ns,cs=(0,l.Z)(ls,os,is,!1,null,"29263a4a",null),ds=cs.exports,us=function(){var e=this,t=e._self._c;return t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Kreiranje korisnika")]),t(b.ZB,[t(_.Z,{attrs:{filled:"",shaped:"",label:"Ime",rules:[e=>e.length>0||"Morate unijeti ime"]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Prezime",rules:[e=>e.length>0||"Morate unijeti prezime"]},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Korisničko ime",rules:[e=>e.length>0||"Morate unijeti korisničko ime"]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Lozinka",required:"","error-messages":e.errorPassword,"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",rules:[e=>e.length>0||"Morate unijeti lozinku"]},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Potvrdite lozinku",required:"",rules:[e.passwordConfirmationRule],"error-messages":e.errorPassword,"append-icon":e.showRePass?"mdi-eye":"mdi-eye-off",type:e.showRePass?"text":"password"},on:{"click:append":function(t){e.showRePass=!e.showRePass}},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.roles,"item-text":"role","item-value":"id",disabled:e.isUpdating,chips:"","deletable-chips":"",label:"Privilegije","error-messages":e.matchError()},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},ms=[],ps={data:()=>({showPass:!1,showRePass:!1,errorPassword:"",isValid:!0,name:"",lastname:"",username:"",password:"",isUpdating:!1,rePassword:null,error:"",roles:[{role:"Adinistrator",id:1},{role:"Moderator",id:0}],role:null}),computed:{passwordConfirmationRule(){return()=>this.password===this.rePassword||"Lozinke se ne poklapaju"}},watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.newUser({firstName:this.name,lastName:this.lastname,username:this.username,password:this.password,role:this.role}).then((e=>{console.log(e),this.$router.push({path:"/users/"})})).catch((e=>{this.error=e.response.data.message,console.log(e.message)}))},remove(e){const t=this.role.indexOf(e.id);t>=0&&this.role.splice(t,1)},matchError(){return null===this.role?"Morate unijeti privilegije":""}}},hs=ps,gs=(0,l.Z)(hs,us,ms,!1,null,null,null),fs=gs.exports,vs=function(){var e=this,t=e._self._c;return e.currentUser?t(re.Z,{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(Pe.Z,{attrs:{justify:"center"}},[t(ve.Z,{attrs:{sm:"10"}},[t(p.Z,{attrs:{tile:""}},[t(b.ZB,[t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti ime"],label:"Ime"},model:{value:e.currentUser.firstName,callback:function(t){e.$set(e.currentUser,"firstName",t)},expression:"currentUser.firstName"}}),t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti prezime"],label:"Prezime"},model:{value:e.currentUser.lastName,callback:function(t){e.$set(e.currentUser,"lastName",t)},expression:"currentUser.lastName"}}),t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti korisničko ime"],label:"Korisničko ime"},model:{value:e.currentUser.username,callback:function(t){e.$set(e.currentUser,"username",t)},expression:"currentUser.username"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Nova lozinka",required:"","error-messages":e.errorPassword,rules:[e=>e.length>0||"Morate unijeti lozinku"],"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.newpassword,callback:function(t){e.newpassword=t},expression:"newpassword"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Potvrdite novu lozinku",required:"",rules:[e.passwordConfirmationRule,e.cannotEmpty],"error-messages":e.errorPassword,"append-icon":e.showRePass?"mdi-eye":"mdi-eye-off",type:e.showRePass?"text":"password"},on:{"click:append":function(t){e.showRePass=!e.showRePass}},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},bs=[],ws={data:()=>({currentUser:null,isValid:!0,isUpdating:!1,showPass:!1,showRePass:!1,errorPassword:"",newpassword:"",rePassword:"",error:""}),computed:{passwordConfirmationRule(){return()=>this.newpassword===this.rePassword||"Lozinke se ne poklapaju"},cannotEmpty(){return()=>""!==this.newpassword||""!==this.rePassword||"Morate unijeti lozinku"}},watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.editUser(this.$route.params.id,{firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,username:this.currentUser.username,password:this.newpassword}).then((e=>{console.log(e.data);let t=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),s=JSON.parse(t),r=s.id;parseInt(this.$route.params.id)===r&&(localStorage.removeItem("token"),this.$router.push({path:"/login"}))})).catch((e=>{this.error=e.response.data.message,console.log(e)}))},getUsers(e){B.getUser(e).then((e=>{this.currentUser=e.data})).catch((e=>{console.log(e)}))}},mounted(){this.getUsers(this.$route.params.id)}},Zs=ws,ks=(0,l.Z)(Zs,vs,bs,!1,null,null,null),ys=ks.exports,xs=function(){var e=this,t=e._self._c;return e.currentUser?t(re.Z,{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(Pe.Z,{attrs:{justify:"center"}},[t(ve.Z,{attrs:{sm:"10"}},[t(p.Z,{attrs:{tile:""}},[t(b.ZB,[t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti ime"],label:"Ime"},model:{value:e.currentUser.firstName,callback:function(t){e.$set(e.currentUser,"firstName",t)},expression:"currentUser.firstName"}}),t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti prezime"],label:"Prezime"},model:{value:e.currentUser.lastName,callback:function(t){e.$set(e.currentUser,"lastName",t)},expression:"currentUser.lastName"}}),t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti username"],label:"Korisničko ime"},model:{value:e.currentUser.username,callback:function(t){e.$set(e.currentUser,"username",t)},expression:"currentUser.username"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Nova lozinka",required:"","error-messages":e.errorPassword,rules:[e=>e.length>0||"Morate unijeti lozinku"],"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.newpassword,callback:function(t){e.newpassword=t},expression:"newpassword"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Potvrdite novu lozinku",required:"",rules:[e.passwordConfirmationRule,e.cannotEmpty],"error-messages":e.errorPassword,"append-icon":e.showRePass?"mdi-eye":"mdi-eye-off",type:e.showRePass?"text":"password"},on:{"click:append":function(t){e.showRePass=!e.showRePass}},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}}),t(ct.Z,{attrs:{filled:"",shaped:"",items:e.roles,"item-text":"role","item-value":"id",disabled:e.isUpdating,chips:"","deletable-chips":"",label:"Privilegije","error-messages":e.matchError()},model:{value:e.currentUser.role,callback:function(t){e.$set(e.currentUser,"role",t)},expression:"currentUser.role"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},_s=[],Ps={data:()=>({currentUser:null,isValid:!0,isUpdating:!1,showPass:!1,showRePass:!1,errorPassword:"",newpassword:"",rePassword:"",error:"",roles:[{role:"Adinistrator",id:1},{role:"Moderator",id:0}]}),computed:{passwordConfirmationRule(){return()=>this.newpassword===this.rePassword||"Lozinke se ne poklapaju"},cannotEmpty(){return()=>""!==this.newpassword||""!==this.rePassword||"Morate unijeti lozinku"}},watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){B.editUser(this.$route.params.id,{firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,username:this.currentUser.username,password:this.newpassword,role:this.currentUser.role}).then((e=>{console.log(e.data);let t=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),s=JSON.parse(t),r=s.id;parseInt(this.$route.params.id)===r?(localStorage.removeItem("token"),this.$router.push({path:"/login"})):this.$router.push({path:"/users"})})).catch((e=>{this.error=e.response.data.message,console.log(e)}))},getUsers(e){B.getUser(e).then((e=>{this.currentUser=e.data})).catch((e=>{console.log(e)}))},matchError(){return null===this.currentUser.role?"Morate unijeti privilegije":""}},mounted(){this.getUsers(this.$route.params.id)}},Cs=Ps,Ls=(0,l.Z)(Cs,xs,_s,!1,null,null,null),js=Ls.exports,Us=function(){var e=this,t=e._self._c;return t(p.Z,[t(b.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista kategorija ")]),t(x.Z),t(_.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.ZB,[t(w.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":5,dense:""},scopedSlots:e._u([{key:"item.image",fn:function({item:s}){return[t("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.$imagePath+s.image}})]}},{key:"item.edit",fn:function({item:s}){return[t(y.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editCategory(s.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:s}){return[[t("div",{staticClass:"text-center"},[[t(v.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(s.id)}}},[t(y.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(Z.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(p.Z,[t(b.EB,[e._v(" Brisanje kategorije ")]),t(b.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovu kategoriju? ")]),t(k.Z),t(b.h7,[t(x.Z),t(v.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(v.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteCategories(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},$s=[],Is={data:()=>({items:[],dialog:!1,headers:[{text:"Slika",value:"image",type:"image",sortable:!1},{text:"Kategorija",value:"category",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}],search:""}),methods:{editCategory(e){this.$router.push({path:`/category/${e}/edit`,params:{id:e}})},deleteCategories(e){B.deleteCategory(e).then((e=>{console.log(e),window.location.reload()})).catch((e=>{console.log(e.message)}))},deleteItem(e){this.id=e,this.dialog=!0}},mounted(){B.getCategoryList().then((e=>{this.items=e.data})).catch((e=>{console.log(e.response)}))}},Ss=Is,As=(0,l.Z)(Ss,Us,$s,!1,null,null,null),Vs=As.exports,Bs=function(){var e=this,t=e._self._c;return t(re.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(ve.Z,{attrs:{sm:"6"}},[t(p.Z,{attrs:{tile:""}},[t(b.EB,[e._v("Kreiranje kategorije")]),t(b.ZB,[e.url?t("img",{attrs:{height:"100px",width:"100px",src:e.url}}):e._e(),t(dt.Z,{attrs:{filled:"",shaped:"",chips:"","prepend-icon":"","append-icon":"mdi-camera",label:"Slika",rules:[e=>!!e||"Slika je obavezna"],accept:"image/*",required:""},on:{change:e.onFileChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t(_.Z,{attrs:{filled:"",shaped:"",label:"Naziv",rules:[e=>e.length>1||"Morate unijeti naziv kategorije"]},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e.error?t(Lt.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},Os=[],zs={data:()=>({isValid:!0,image:null,category:"",isUpdating:!1,error:"",url:""}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let e=new FormData;this.image&&e.append("image",this.image,this.image.name),e.append("category",this.category),B.newCategory(e).then((e=>{console.log(e),this.$router.push({path:"/category/"})})).catch((e=>{this.error=e.response.data.error,console.log(e.message)}))},onFileChange(e){this.image=e,console.log(e)}}},Es=zs,Ns=(0,l.Z)(Es,Bs,Os,!1,null,"66d31534",null),Ms=Ns.exports,Ks=function(){var e=this,t=e._self._c;return e.currentCategory?t(re.Z,{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(Pe.Z,{attrs:{justify:"center"}},[t(ve.Z,{attrs:{sm:"10"}},[t(p.Z,{attrs:{tile:""}},[t(b.ZB,[e.url?t("img",{attrs:{height:"100px",width:"100px",src:e.url}}):e._e(),e.url?e._e():t("img",{attrs:{height:"100px",width:"100px",right:"",src:e.$imagePath+e.currentCategory.image}}),t(dt.Z,{attrs:{chips:"",filled:"",shaped:"","append-icon":"mdi-camera","prepend-icon":"",label:"Slika",accept:"image/*"},on:{change:e.onFileChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t(_.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti naziv kategorije"],label:"Naziv"},model:{value:e.currentCategory.category,callback:function(t){e.$set(e.currentCategory,"category",t)},expression:"currentCategory.category"}}),t(v.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},Rs=[],Ts={data:()=>({currentCategory:null,isValid:!0,isUpdating:!1,url:null,image:null}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let e=new FormData;this.image&&e.append("image",this.image),e.append("category",this.currentCategory.category),B.editCategory(this.$route.params.id,e).then((e=>{console.log(e.data),this.$router.push({path:"/category/"})})).catch((e=>{console.log(e)}))},getCategories(e){B.getCategory(e).then((e=>{this.currentCategory=e.data})).catch((e=>{console.log(e)}))},onFileChange(e){const t=e;this.url=t?URL.createObjectURL(t):null}},mounted(){this.getCategories(this.$route.params.id)}},Ds=Ts,qs=(0,l.Z)(Ds,Ks,Rs,!1,null,"72dcabdc",null),Fs=qs.exports;r.ZP.use(u.Z);const Js=[{path:"/login",name:"login",component:pe,meta:{title:"Login"}},{path:"/",name:"HomePage",component:He},{path:"/admin",component:Ie,children:[{path:"/dashboard",name:"dashboard",component:te},{path:"/activity",component:et},{path:"/create/post",component:vt},{path:"/post/:id",component:lt},{path:"/post/:id/edit",component:xt},{path:"/posts",component:N},{path:"/create/comment",component:Ot},{path:"/comment/:id",component:Ct},{path:"/comment/:id/edit",component:Tt},{path:"/comments",component:q},{path:"/create/answer",component:Xt},{path:"/answer/:id",component:Ft},{path:"/answer/:id/edit",component:as},{path:"/answers",component:Q},{path:"/create/category",component:Ms},{path:"/category",component:Vs},{path:"/category/:id/edit",component:Fs},{path:"/create/user",component:fs},{path:"/users",component:ds},{path:"/user/:id/edit",component:ys},{path:"/users/:id/edit",component:js},{path:"*",component:ze,meta:{title:"Not_found"}}]}],Hs=new u.Z({mode:"history",base:"/",routes:Js});var Gs=Hs,Ws=s(1705);r.ZP.use(Ws.Z);var Qs=new Ws.Z({}),Xs=s(8947),Ys=s(1436),er=s(7810);Xs.vI.add(Ys.mRB),r.ZP.component("font-awesome-icon",er.GN),r.ZP.prototype.$imagePath="https://koferpsihoalata.me/",r.ZP.config.productionTip=!1,new r.ZP({router:Gs,vuetify:Qs,render:e=>e(d)}).$mount("#app")},2707:function(e,t,s){e.exports=s.p+"img/notfound.75acfd6c.png"},4283:function(e,t,s){e.exports=s.p+"img/underconstruction1.b26ed7d5.png"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],n=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(1408)}));r=s.O(r)})();
//# sourceMappingURL=app.6f1de045.js.map