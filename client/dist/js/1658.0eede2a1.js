"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[1658],{1658:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var a=n(344),i=n(6190),r=n(9582),o=n(4886),s=n(266),l=n(1625),c=n(5125),u=n(1713),d=n(7808),g=function(){var t=this,e=t._self._c;return t.currentPost?e(c.Z,{model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[e(u.Z,{attrs:{justify:"center"}},[e(s.Z,{attrs:{sm:"10"}},[e(r.Z,{attrs:{tile:""}},[e(o.ZB,[e(d.Z,{attrs:{filled:"",shaped:"",label:"Naziv",rules:[t=>t.length>1||"Morate unijeti naziv"]},model:{value:t.currentPost.title,callback:function(e){t.$set(t.currentPost,"title",e)},expression:"currentPost.title"}}),t.url?e("img",{attrs:{height:"100px",width:"100px",src:t.url}}):t._e(),t.url?t._e():e("img",{attrs:{height:"100px",width:"100px",right:"",src:t.$imagePath+t.currentPost.image}}),e(l.Z,{attrs:{chips:"",filled:"",shaped:"","append-icon":"mdi-camera","prepend-icon":"",label:"Slika",accept:"image/*"},on:{change:t.onFileChange},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}}),e("vue-editor",{attrs:{"output-format":"html",editorToolbar:t.customToolbar},model:{value:t.currentPost.content,callback:function(e){t.$set(t.currentPost,"content",e)},expression:"currentPost.content"}}),e(a.Z,{attrs:{filled:"",shaped:"",items:t.category,disabled:t.isUpdating,"item-value":"id","item-text":"category",chips:"","deletable-chips":"",label:"Kategorija","error-messages":t.matchError()},model:{value:t.currentPost.categoryId,callback:function(e){t.$set(t.currentPost,"categoryId",e)},expression:"currentPost.categoryId"}}),e(i.Z,{attrs:{disabled:!t.isValid,color:"primary"},on:{click:t.onSubmit}},[t._v("Izmijeni")])],1)],1)],1)],1)],1):t._e()},p=[],h=n(2739),f=n(3304),m={components:{VueEditor:h.bR},data:()=>({category:[],currentPost:null,isValid:!0,image:[],url:null,isUpdating:!1,customToolbar:[[{header:[!1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote"],["link","image"],[{color:[]},{background:[]}]]}),watch:{isUpdating(t){t&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let t=new FormData;this.image&&t.append("image",this.image),t.append("title",this.currentPost.title),t.append("content",this.currentPost.content),t.append("categoryId",this.currentPost.categoryId),f.Z.editPost(this.$route.params.id,t).then((t=>{console.log(t.data),this.$router.push({path:"/posts/"})})).catch((t=>{console.log(t)}))},getPosts(t){f.Z.getPost(t).then((t=>{this.currentPost=t.data,console.log(this.currentPost)})).catch((t=>{console.log(t)}))},getCategories(){f.Z.getCategoryList().then((t=>{this.category=t.data})).catch((t=>{console.log(t)}))},onFileChange(t){const e=t;this.url=e?URL.createObjectURL(e):null},matchError(){return null===this.currentPost.categoryId?"Morate odabrati kategoriju":""}},mounted(){this.getPosts(this.$route.params.id),this.getCategories()}},b=m,y=n(1001),P=(0,y.Z)(b,g,p,!1,null,"20bb6abb",null),k=P.exports},1713:function(t,e,n){n(1884);var a=n(144),i=n(1767),r=n(5352);const o=["sm","md","lg","xl"],s=["start","end","center"];function l(t,e){return o.reduce(((n,a)=>(n[t+(0,r.jC)(a)]=e(),n)),{})}const c=t=>[...s,"baseline","stretch"].includes(t),u=l("align",(()=>({type:String,default:null,validator:c}))),d=t=>[...s,"space-between","space-around"].includes(t),g=l("justify",(()=>({type:String,default:null,validator:d}))),p=t=>[...s,"space-between","space-around","stretch"].includes(t),h=l("alignContent",(()=>({type:String,default:null,validator:p}))),f={align:Object.keys(u),justify:Object.keys(g),alignContent:Object.keys(h)},m={align:"align",justify:"justify",alignContent:"align-content"};function b(t,e,n){let a=m[t];if(null!=n){if(e){const n=e.replace(t,"");a+=`-${n}`}return a+=`-${n}`,a.toLowerCase()}}const y=new Map;e["Z"]=a.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...g,alignContent:{type:String,default:null,validator:p},...h},render(t,{props:e,data:n,children:a}){let r="";for(const i in e)r+=String(e[i]);let o=y.get(r);if(!o){let t;for(t in o=[],f)f[t].forEach((n=>{const a=e[n],i=b(t,n,a);i&&o.push(i)}));o.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),y.set(r,o)}return t(e.tag,(0,i.ZP)(n,{staticClass:"row",class:o}),a)}})}}]);
//# sourceMappingURL=1658.0eede2a1.js.map