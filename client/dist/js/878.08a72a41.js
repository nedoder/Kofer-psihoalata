"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[878],{3485:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"single-post"},[t("header-component"),!1===e.loading?t("div",{staticClass:"post-details"},[t("h3",[e._v(e._s(e.item.title))]),t("div",{staticClass:"single-post-image"},[t("img",{attrs:{src:e.$imagePath+e.item.image,alt:"Post image"}})]),t("p",{staticClass:"single-post-category"},[e._v(e._s(e.item.Category.category))]),t("p",{staticClass:"single-post-author"},[e._v("Kreirao/la "),t("span",{staticClass:"post-username"},[e._v(e._s(e.item.User.username))]),e._v(" "),t("span",[e._v("|")]),e._v(" Datum objave: "+e._s(new Date(e.item.createdAt).toLocaleString("en-us",{month:"long",day:"numeric",year:"numeric"})))]),t("div",{staticClass:"single-post-content",attrs:{id:"post-content"},domProps:{innerHTML:e._s(e.item.content)}})]):e._e(),!1===e.loading?t("div",{staticClass:"comment-box"},[t("h4",[e._v("Komentari ("+e._s(e.item.Comments.length)+")")]),t("div",{staticClass:"comment-form"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.commentname,expression:"commentname"}],staticClass:"name",attrs:{name:"name",placeholder:"Ime (opciono)",type:"text",autocomplete:"off"},domProps:{value:e.commentname},on:{input:function(t){t.target.composing||(e.commentname=t.target.value)}}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"message",attrs:{name:"message",rows:"4",placeholder:"Poruka"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),!0===e.success?t("p",{staticClass:"comment-success"},[e._v("Vaš komentar se prvo šalje timu na odobrenje. Kofer psihoalata zadržava pravo da obriše neprimjereni dio ili cijeli komentar, bez najave i objašnjenja.")]):e._e(),!0===e.failed?t("p",{staticClass:"comment-failed"},[e._v("Došlo je do greške. Molimo pokušajte ponovo.")]):e._e(),!0===e.errorMsg?t("p",{staticClass:"comment-failed"},[e._v("Morate unijeti poruku.")]):e._e(),t("button",{staticClass:"button",on:{click:e.submitComment}},[e._v("Pošalji")])]),e._l(e.commentsLoaded,(function(e){return t("div",{key:e.id,staticClass:"comment-list"},[t("comment-component",{attrs:{items:e}})],1)})),this.item.Comments.length>this.length?t("button",{staticClass:"load-more",on:{click:e.loadMore}},[e._v("Prikaži više")]):e._e()],2):e._e(),!0===e.loading?t("div",{staticClass:"loading-post"},[t("img",{attrs:{src:s(5964),alt:"Loading post"}})]):e._e(),t("footer-component")],1)},o=[],i=s(3304),n=s(6439),l=s(2485),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comments"},[t("div",{staticClass:"single-comment",attrs:{id:e.items.id}},[e._m(0),t("div",{staticClass:"comment-footer"},[t("p",{staticClass:"comment-message"},[e._v(e._s(e.items.comment))]),t("div",{staticClass:"comment-reply"},[t("p",{staticClass:"comment-author"},[t("span",[e._v("Autor: ")]),e._v(e._s(e.items.author)+" "),t("span",[e._v(" , ")]),e._v(" "+e._s(new Date(e.items.createdAt).toUTCString().slice(5,-4)))]),t("font-awesome-icon",{attrs:{icon:"reply"},on:{click:e.replyComment}}),0!==e.items.Answers.length?t("p",{staticClass:"answer-length",on:{click:e.showAnswer}},[e._v("Prikaži "+e._s(e.items.Answers.length)+" odgovora "),t("font-awesome-icon",{attrs:{icon:"chevron-down"}})],1):e._e()],1)])]),!0===e.reply?t("div",{staticClass:"reply-form"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.replyname,expression:"replyname"}],staticClass:"reply-name",attrs:{name:"reply-name",placeholder:"Ime (opciono)",type:"text",autocomplete:"off"},domProps:{value:e.replyname},on:{input:function(t){t.target.composing||(e.replyname=t.target.value)}}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.replymessage,expression:"replymessage"}],staticClass:"reply-message",attrs:{name:"reply-message",rows:"4",placeholder:"Poruka"},domProps:{value:e.replymessage},on:{input:function(t){t.target.composing||(e.replymessage=t.target.value)}}}),!0===e.success?t("p",{staticClass:"comment-success"},[e._v("Vaš komentar se prvo šalje timu na odobrenje. Kofer psihoalata zadržava pravo da obriše neprimjereni dio ili cijeli komentar, bez najave i objašnjenja.")]):e._e(),!0===e.failed?t("p",{staticClass:"comment-failed"},[e._v("Došlo je do greške. Molimo pokušajte ponovo.")]):e._e(),!0===e.errorMsg?t("p",{staticClass:"comment-failed"},[e._v("Morate unijeti poruku.")]):e._e(),t("button",{staticClass:"reply-button comment-btn",on:{click:e.onSubmit}},[e._v("Pošalji")])]):e._e(),t("div",{staticClass:"answer-wrap"},[e._l(e.answersLoaded,(function(e){return t("div",{key:e.id,staticClass:"answer-box"},[t("answer-component",{attrs:{items:e}})],1)})),this.items.Answers.length>this.length?t("button",{staticClass:"load-answers",on:{click:e.loadAnswers}},[e._v("Prikaži više")]):e._e()],2)])},m=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-wrap"},[t("img",{attrs:{src:s(2315),alt:"Comment image"}})])}],c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"single-answer"},[e._m(0),t("div",{staticClass:"answer-footer"},[t("p",{staticClass:"answer-message"},[e._v(e._s(e.items.answer))]),t("div",{staticClass:"answer-reply"},[t("p",{staticClass:"answer-author"},[t("span",[e._v("Autor: ")]),e._v(e._s(e.items.author)+" "),t("span",[e._v(" , ")]),e._v(" "+e._s(new Date(e.items.createdAt).toUTCString().slice(5,-4)))])])])])},d=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-wrap"},[t("img",{attrs:{src:s(2315),alt:"Answer image"}})])}],p={name:"AnswerBox",props:["items"]},g=p,h=s(1001),u=(0,h.Z)(g,c,d,!1,null,null,null),A=u.exports,v={name:"CommentBox",components:{AnswerComponent:A},props:["items"],data:()=>({replyname:"",replymessage:"",reply:!1,success:!1,failed:!1,errorMsg:!1,length:5}),computed:{answersLoaded(){return this.items.Answers.slice(0,this.length)}},methods:{loadAnswers(e){const t=e.target.parentNode.parentNode,s=Array.from(t.querySelectorAll(".answer-box"));s.forEach((e=>{e.classList.add("answer-visible")})),this.length>=this.items.Answers.length?e.target.style.display="none":this.length=this.length+1},replyComment(){this.reply=!this.reply},showAnswer(e){const t=e.target.parentNode.parentNode.parentNode.parentNode,s=Array.from(t.querySelectorAll(".answer-wrap")),a=Array.from(t.querySelectorAll(".answer-box")),o=Array.from(t.querySelectorAll(".answer-wrap > button"))[0];console.log(o),s.forEach((e=>{e.classList.toggle("answer-visible")})),a.forEach((e=>{e.classList.toggle("answer-visible")}))},onSubmit(e){""===this.replymessage?this.errorMsg=!0:(e.target.classList.add("btn-load"),e.target.classList.add("btn-fill"),i.Z.newAnswer({commentId:this.items.id,author:""===this.replyname?"Anoniman":this.replyname,answer:this.replymessage,approved:!1}).then((t=>{e.target.classList.remove("btn-load"),e.target.classList.remove("btn-fill"),this.replyname="",this.replymessage="",this.success=!0,this.failed=!1,console.log(t)})).catch((t=>{e.target.classList.remove("btn-load"),e.target.classList.remove("btn-fill"),this.failed=!0,console.log(t)})))}}},C=v,w=(0,h.Z)(C,r,m,!1,null,null,null),f=w.exports,b={name:"PostDetails",components:{HeaderComponent:n.Z,CommentComponent:f,FooterComponent:l.Z},data:()=>({item:{date:"",Category:"",Comments:[],Answers:[],User:"",title:"",image:"",id:""},length:5,commentname:"",message:"",success:!1,failed:!1,errorMsg:!1,loading:!1}),computed:{commentsLoaded(){return this.item.Comments.slice(0,this.length)}},methods:{loadMore(e){this.length>this.item.Comments.length||(this.length===this.item.Comments.length-1&&(e.target.style.display="none"),this.length=this.length+1)},submitComment(e){""===this.message?this.errorMsg=!0:(e.target.classList.add("btn-fill"),e.target.classList.add("btn-load"),i.Z.newComment({comment:this.message,author:""===this.commentname?"Anoniman":this.commentname,postId:this.item.id,approved:!1}).then((t=>{e.target.classList.remove("btn-load"),e.target.classList.remove("btn-fill"),this.message="",this.commentname="",this.success=!0,this.failed=!1,console.log(t)})).catch((t=>{e.target.classList.remove("btn-load"),e.target.classList.remove("btn-fill"),this.failed=!0,console.log(t)})))}},mounted(){this.loading=!0,i.Z.getPost(this.$route.params.id).then((e=>{this.item=e.data,console.log(this.item),this.item.Comments=this.item.Comments.filter((e=>!0===e.approved)),this.item.Comments.forEach((e=>{e.Answers=e.Answers.filter((e=>!0===e.approved))})),console.log(e.data)})).catch((e=>{console.log(e.response)})).finally((()=>this.loading=!1))}},y=b,j=(0,h.Z)(y,a,o,!1,null,null,null),k=j.exports},5964:function(e,t,s){e.exports=s.p+"img/post-load.b1d7b2a7.gif"},2315:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAL0UExURUdwTBNNVFaksAZHUlSfqh1SVxdQVhlWXUxtZBdNUghPWhlOUglPWzeIlVWhrVKgrGCst1Sgq2CsuFCeq2axvFmmskCEiwZLVUiXpEeWo12qtQtMV1SZph1YYCxhYwlNWDNUTQhOWQ5WYglOWiljZjhaUjJTTDpcVGKuuSt9iSp8iFWhrkSUoEZoYE9zaUOAhB5tekmXpDB6gwZKVTaHk2Wwuh5ue2SwuwpQXDRWTl2qtkNlXQ5VYSVRUEBgVghOWVN3bVt/diBvfBRhbDiJlTmKliiGdmF+cyh6hmGFfVp+dVd8cyx+i1yAd1d7clR5byZ5hV6CeRJfa12BeBFdaS+AjDGCjit9ii1/iwM9Ril7iBdlclV6cSp8iRJgbFt/dlp9dF+DejSBjRVkcQtVYRVjbxRibgpRXSJyfTCBjRBcZ2OHfw5aZld9dDJ/ijSEkTeAixNhbTaGkwI5QyN2gw5XYx9seRpodRxqd2GEfAhOWWCEeyFue2SIgAI1Pjd+hjN8hil3gTB5giV0fz6OmgdKVANCTfW6eAZGUTODj7+6taVlKpOOieuva7q1rpaRizYhGDyAiO+0ceapZXedmJqVj9LRzS57huGkYP7Ojz4tJxNhbGiMhFJ2bKSemNzY09nUz/nAfsW/uteYVTmKlpFXJCUXFFB0asnEvuXh27x+PcuLSLSvqK1sMENmX6qmnzFUT/3Eg8WEQdOST//JiEw2L0OSn0mXo5+Zk+Dc1s3JxGyRit2fW1lCOunm4bJzNThaVJheKa6pozldWH9rXLh4OI2JhHRlYVOFgu/s50B9gSBmbipOTWhxb86PTtucWnZ8eXReTmNRTI2DfkVxbFeRkZF2aThze42bgx5eZdHMxtPOyNS5iqijnczHwUNBMhEdHnOVjW9OMx1SVGWWlDFpakOLk7yESSg3L0yMkRczMQEtNRpESUWGjQlDSpWwscaugHWKd7CujHanrYiwtEt+enuEgK+cc6Ogf26CgQAorkdwTKKON+MAAAD8dFJOUwBv+6sMI2MQ/ofYNPzaHtpdL9n+evJh4H29rhUEBYWb2vW+xjn2uOeZ8vo983DZg+VrmvmvEqq87syLwUZB/um65dDxivf8////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AOuzankAAAdgSURBVFjDlZdnXBN3GMcPiZAgFBF3rauOulvtttr9+UQJBGJCFqQi5AIxgAlJSCkCSrAEUYvGCTixVK1orYKVoiAU1IJVwVXbWlet1tWqHe/6/P83ckeC43mRd9/v/X7P3eXuCML3CML6fvBySMiYsWPHvPjeq4MDegQSTzGCcf0HhHxocaWolPEacfSC/OTsF4cPnvakjmdeGjDeaXGlpa2GEYsXwFjz87Mz3x/u1/1J8P6h1RXpc9LS8vKAX4j5fDTJyQ5dkOhxCkHP0BqMA48FCziC5OxMeZDfI4uEDQx3WuYgHgsWwnB4MNi1Nv8eXeKD0OFdFJ8LgjwvPjvb7pD3C3iui/i9+1RbgJ83D/hcij/2Z4c9mZlsJLA7yGEinzVeeaGbMx14EMyblwuGhcdi/vxnxfUm4TWHPZsZO4w2eMizvvhwip9D8QuPnLu3fPmSFWu2HN/eNP281s7ydofW4O9lECA+neZLSvKOnftp06ZPkeDbLcf3HDrZatNnOuzUOMAwpFOLQb27OS1MgJKS3CP39n4FPCX4esf2Qw0XC22k1uFwYEFmYrCIv8mesD9mAYj/aS1PsOe7nQ0X1VlGUpvpQJOZaR4WwDv/vWqAd9HHL6F5aMAIth9a3HAxp8AmS9RmUmPsx7keBAPDK0AQG0sJjv21lg2wYs0PlGDn4q03cwqT5CSt0Cb5e9bQEy/AFUsnOLeXDoAbUILvdi5efPlmRqHBqNNrkUJLBvux9w8qQAUAQe65tWv5DY7TgobLN9UFBpMMQqAxBTF3Vu9uVIEUaod/8Xg6AFQAw+856kKDTa7DCtIgYgJU4wApKeg2yC1hN7jCc/xDO2lBhrowy2aUmfX6RD0TgQ2QosB30b9LYHHHd1y/TnMNMFupQQKUwSgrJUm9zoC3IHithg6gQIK81Webzpw503Ty8uW6urp9+/atW7fuM3p+/SMnI0O9KAsZdGbSbHsenYhxfZxMACRYLQZB+5mWU6daWk55DJ+jQQK1elGBIckkl+lKzfJhb6EG4RVMAIUqTaIEQdPJUy3NRRsvFBW31O2jAnAEhSCwGcGgk6E14gZ0AJVKIlHGn21pX795w7Zt32zYuOqXpfvbQVd3EeVY9ytqAFsEgckoA0MSdAjrhRtQPAgkkvgHR48ePYj5Hw98sblo6Ze71q8sbm5vb8uhGlACuUwmM709Aq7CCk8AEKgUkvuYB8GFH3/BgsM/r1+5bFlxGw7AFRiDA4g3w/kBVApVzUE6wAUqwOFd6/evXFZcXIUDoAZYIJfL5IYhxMAajwAVUKkUllUH8QY4AfZDgOZWbgNIgATDiV7VPB4ZJA98BFhWfAIVwCtMMqEAUEGeFEQLGF6pVMLPb6u2eW+guZ63QsSD4HWijzPdcwrp0dzfgE6BpwDaQBsbgCqAxxZMdEMCDx+PR3mXPYXMBk/cQjwEoDYoowy2LBCgBrgAjWs0mui0uwc68a3sKWALwKUIgj5OFxuAojUasTha4y4q8uRvbrvlxet0SBBMhCIBlxcDHh1ttd5276L333yiMYPOz/I6PDJYYqiTasDnQZCcfDb1v7//PtEm3K2Gwy9aBDcRjy9FgiBiYHUsG4DFgbda85MdpC2rUJ1B0VlcvNSMBm7H4cSb1S4Fy2s4vNV6+vSRIw+lHR2Nd2D1AFOXr47BzeZSdCn3HJ+uYAtw+Xzx1Y8jIz+aOTuiSl1oYmpjlqQGBHAzhYVaaAGHF+fB8zn34fTdeFpvXfkeRs8ZWoBuZ8GACgWPt0aXnL5aW1tbVlaWkBoVFRcnjYuaGRmZGtdx7ftEPKwD/6EQ/Z0pSMAu0HXVXVs2f+7cGTNmfPzJJwkJMTExs6DJzNQIacc1eCppGQdJ4r80Ytx4l4QT4Ib70nwGp+hZsAksiIgqrzqvZRWk2Yj/VAUDLBIlw4tPu8vm8w6PeCyYnRoRFSWtOp9IGUBQihsQxEtOBSvw8DMYng6ABHwDKc+iHq/PhLjQKzES/ObheQVQAEoQV95opFrozbZ+9NO1f4UEAsDx4921Hp5fAAdAgjjhlVIsIGVZIubxHhIbj45vveFGvHcBJgAWlDfaoAQESGIf70RfixIF0HADsAV4AdBlIbyiQwHkU/w8rzgvp2ggwG13WecCbIDUVIaXVtbbYAM6A+cVhwgLkUCEq5f4Z8B3AKm06opZTyb147109x0Df2OcAAldBUACYauRNE0J4L9oThobfdtNb9CrgOcUIF5audtgKuj0okkIJkffuPT4AlhQXl9Q4O/1wh746u1LnQpEep1CzIPgjr+P1/XAybXz5/pagFcA4W5fPBgm8W5hToFUPj9S1MV303N9303oxHsXqKwa2tUnD8yId2bH0LyPAvjwjaN6POqzLXDCxIhZnXjPNVgunD7U73Hfr90HT5TOjvTFVwIuepJv1+4TpgrLo2Z6+IioODh41cg3nujTFxeZNnjqaGFlZTneemWlsGr66FGiaU/1AR/YI0A06o3RI+vrR44eOkrU9ef//5+amuGCnVzZAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=878.08a72a41.js.map