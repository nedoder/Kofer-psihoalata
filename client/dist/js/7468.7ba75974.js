(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[7468],{8869:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var o=t(6190),s=t(9582),i=t(4886),a=t(3863),c=t(4061),n=t(9223),l=t(4324),E=t(3687),d=t(7808),u=function(){var e=this,r=e._self._c;return r(s.Z,[r(i.EB,[r("h1",{staticClass:"display-1"},[e._v(" Lista usera ")]),r(E.Z),r(d.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(r){e.search=r},expression:"search"}})],1),r(i.ZB,[r(a.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":20,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:t}){return[r(l.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(r){return e.editUser(t.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:t}){return[[r("div",{staticClass:"text-center"},[[r(o.Z,{attrs:{icon:""},on:{click:function(r){return e.deleteItem(t.id)}}},[r(l.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),r(c.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(r){e.dialog=r},expression:"dialog"}},[r(s.Z,[r(i.EB,[e._v(" Brisanje usera ")]),r(i.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovog usera? ")]),r(n.Z),r(i.h7,[r(E.Z),r(o.Z,{attrs:{color:"info",text:""},on:{click:function(r){e.dialog=!1}}},[e._v(" Odustani ")]),r(o.Z,{attrs:{color:"primary",text:""},on:{click:function(r){return e.deleteUsers(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},m=[],R=(t(2801),t(3304)),_={data:()=>({items:[],dialog:!1,search:"",headers:[{text:"Korisničko ime",value:"username",sortable:!0},{text:"Ime",value:"firstName",sortable:!0},{text:"Prezime",value:"lastName",sortable:!0},{text:"Privilegija",value:"role",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}]}),methods:{editUser(e){this.$router.push({path:`/users/${e}/edit`,params:{id:e}})},deleteUsers(e){R.Z.deleteUser(e).then((r=>{console.log(r);var t=localStorage.getItem("token").split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(o).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));s=JSON.parse(s);let i=s.userId;e==i&&this.$router.push({path:"/login"}),window.location.reload()})).catch((e=>{console.log(e.message)})),console.log(e)},deleteItem(e){console.log(e),this.id=e,this.dialog=!0}},mounted(){R.Z.getUserList().then((e=>{this.items=e.data,this.items.forEach((e=>{1===e.role?e.role="Administrator":e.role="Moderator"}))})).catch((e=>{console.log(e.response)}))}},p=_,h=t(1001),I=(0,h.Z)(p,u,m,!1,null,"3ad163bb",null),f=I.exports},5787:function(e,r,t){var o=t(7976),s=TypeError;e.exports=function(e,r){if(o(r,e))return e;throw s("Incorrect invocation")}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},2801:function(e,r,t){"use strict";var o=t(2109),s=t(7854),i=t(5005),a=t(9114),c=t(3070).f,n=t(2597),l=t(5787),E=t(9587),d=t(6277),u=t(3678),m=t(7741),R=t(9781),_=t(1913),p="DOMException",h=i("Error"),I=i(p),f=function(){l(this,v);var e=arguments.length,r=d(e<1?void 0:arguments[0]),t=d(e<2?void 0:arguments[1],"Error"),o=new I(r,t),s=h(r);return s.name=p,c(o,"stack",a(1,m(s.stack,1))),E(o,this,f),o},v=f.prototype=I.prototype,A="stack"in h(p),N="stack"in new I(1,2),g=I&&R&&Object.getOwnPropertyDescriptor(s,p),T=!!g&&!(g.writable&&g.configurable),O=A&&!T&&!N;o({global:!0,constructor:!0,forced:_||O},{DOMException:O?f:I});var D=i(p),S=D.prototype;if(S.constructor!==D)for(var b in _||c(S,"constructor",a(1,D)),u)if(n(u,b)){var C=u[b],k=C.s;n(D,k)||c(D,k,a(6,C.c))}}}]);
//# sourceMappingURL=7468.7ba75974.js.map