"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[4621],{792:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(6190),i=a(9582),r=a(4886),l=a(3863),o=a(4061),n=a(9223),c=a(4324),d=a(3687),u=a(7808),m=function(){var e=this,t=e._self._c;return t(i.Z,[t(r.EB,[t("h1",{staticClass:"display-1"},[e._v(" Lista usera ")]),t(d.Z),t(u.Z,{attrs:{"append-icon":"mdi-magnify",label:"Pretraga","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(r.ZB,[t(l.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":20,dense:""},scopedSlots:e._u([{key:"item.edit",fn:function({item:a}){return[t(c.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(t){return e.editUser(a.id)}}},[e._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:a}){return[[t("div",{staticClass:"text-center"},[[t(s.Z,{attrs:{icon:""},on:{click:function(t){return e.deleteItem(a.id)}}},[t(c.Z,{attrs:{small:"",color:"red"}},[e._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),t(o.Z,{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(i.Z,[t(r.EB,[e._v(" Brisanje usera ")]),t(r.ZB,[e._v(" Da li ste sigurni da želite da obrišete ovog usera? ")]),t(n.Z),t(r.h7,[t(d.Z),t(s.Z,{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Odustani ")]),t(s.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteUsers(e.id)}}},[e._v(" Obriši ")])],1)],1)],1)],1)],1)},h=[],p=(a(2801),a(3304)),g={data:()=>({items:[],dialog:!1,search:"",headers:[{text:"Korisničko ime",value:"username",sortable:!0},{text:"Ime",value:"firstName",sortable:!0},{text:"Prezime",value:"lastName",sortable:!0},{text:"Privilegija",value:"role",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}]}),methods:{editUser(e){this.$router.push({path:`/users/${e}/edit`,params:{id:e}})},deleteUsers(e){p.Z.deleteUser(e).then((t=>{console.log(t);var a=localStorage.getItem("token").split(".")[1],s=a.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(s).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));i=JSON.parse(i);let r=i.userId;e==r&&this.$router.push({path:"/login"}),window.location.reload()})).catch((e=>{console.log(e.message)})),console.log(e)},deleteItem(e){console.log(e),this.id=e,this.dialog=!0}},mounted(){p.Z.getUserList().then((e=>{this.items=e.data,this.items.forEach((e=>{1===e.role?e.role="Administrator":e.role="Moderator"}))})).catch((e=>{console.log(e.response)}))}},f=g,v=a(1001),Z=(0,v.Z)(f,m,h,!1,null,"6b283f4d",null),b=Z.exports}}]);
//# sourceMappingURL=4621.e7f63905.js.map