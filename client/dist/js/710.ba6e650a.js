(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[710],{7797:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var o=r(344),i=r(6190),a=r(9582),s=r(4886),n=r(266),c=r(1625),l=r(5125),E=r(7808),u=function(){var e=this,t=e._self._c;return t(l.Z,{staticClass:"row text-center justify-center align-center fill-height",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(n.Z,{attrs:{sm:"6"}},[t(a.Z,{attrs:{tile:""}},[t(s.EB,[e._v("Kreiranje posta")]),t(s.ZB,[t(E.Z,{attrs:{filled:"",shaped:"",label:"Naslov",rules:[e=>e.length>1||"Morate unijeti naziv"]},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e.url?t("img",{attrs:{height:"100px",width:"100px",src:e.url}}):e._e(),t(c.Z,{attrs:{filled:"",shaped:"",chips:"","prepend-icon":"","append-icon":"mdi-camera",label:"Slika",rules:[e=>!!e||"Slika je obavezna"],accept:"image/*",required:""},on:{change:e.onFileChange},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t("vue-editor",{attrs:{"output-format":"html",editorToolbar:e.customToolbar},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),t(o.Z,{attrs:{filled:"",shaped:"",items:e.category,"item-text":"category","item-value":"id",disabled:e.isUpdating,chips:"","deletable-chips":"",label:"Kategorija","error-messages":e.matchError()},model:{value:e.categories,callback:function(t){e.categories=t},expression:"categories"}}),t(i.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Kreiraj")])],1)],1)],1)],1)},d=[],m=(r(2801),r(2739)),p=r(3304),R={name:"CreatePost",components:{VueEditor:m.bR},data:()=>({content:"",title:"",categories:[],category:[],image:null,url:"",author:null,isValid:!0,isUpdating:!1,customToolbar:[[{header:[!1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote"],["link","image"],[{color:[]},{background:[]}]]}),watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){let e=new FormData;this.image&&e.append("image",this.image,this.image.name),this.categories&&e.append("categoryId",this.categories),e.append("title",this.title),e.append("content",this.content),e.append("userId",this.author),p.Z.newPost(e).then((e=>{console.log(e),this.$router.push({path:"/posts/"})})).catch((e=>{console.log(e.message)}))},onFileChange(e){this.image=e,console.log(e)},remove(e){const t=this.categories.indexOf(e.id);t>=0&&this.categories.splice(t,1)},matchError(){return null===this.categories?"Morate odabrati kategoriju":""}},mounted(){p.Z.getCategoryList().then((e=>{this.category=e.data})).catch((e=>{console.log(e.response)}));let e=JSON.parse(atob(localStorage.getItem("token").split(".")[1]));this.author=e.id}},g=R,h=r(1001),_=(0,h.Z)(g,u,d,!1,null,"b545a9e8",null),I=_.exports},5787:function(e,t,r){var o=r(7976),i=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},2801:function(e,t,r){"use strict";var o=r(2109),i=r(7854),a=r(5005),s=r(9114),n=r(3070).f,c=r(2597),l=r(5787),E=r(9587),u=r(6277),d=r(3678),m=r(7741),p=r(9781),R=r(1913),g="DOMException",h=a("Error"),_=a(g),I=function(){l(this,f);var e=arguments.length,t=u(e<1?void 0:arguments[0]),r=u(e<2?void 0:arguments[1],"Error"),o=new _(t,r),i=h(t);return i.name=g,n(o,"stack",s(1,m(i.stack,1))),E(o,this,I),o},f=I.prototype=_.prototype,T="stack"in h(g),b="stack"in new _(1,2),A=_&&p&&Object.getOwnPropertyDescriptor(i,g),N=!!A&&!(A.writable&&A.configurable),v=T&&!N&&!b;o({global:!0,constructor:!0,forced:R||v},{DOMException:v?I:_});var O=a(g),D=O.prototype;if(D.constructor!==O)for(var S in R||n(D,"constructor",s(1,O)),d)if(c(d,S)){var k=d[S],C=k.s;c(O,C)||n(O,C,s(6,k.c))}}}]);
//# sourceMappingURL=710.ba6e650a.js.map