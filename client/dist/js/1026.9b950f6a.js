"use strict";(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[1026],{8106:function(t,e,i){i.r(e),i.d(e,{default:function(){return Z}});var a=i(6190),o=i(9582),s=i(4886),n=i(3863),l=i(4061),r=i(9223),c=i(4324),d=i(3687),u=function(){var t=this,e=t._self._c;return e(o.Z,[e(s.EB,[e("h1",{staticClass:"display-1"},[t._v(" Lista institucija ")]),e(d.Z)],1),e(s.ZB,[e(n.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"footer-props":{"items-per-page-options":[20]},options:t.options,"server-items-length":t.totalNumberOfItems,dense:""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.edit",fn:function({item:i}){return[e(c.Z,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(e){return t.editInstitution(i.id)}}},[t._v("mdi-pencil")])]}},{key:"item.delete",fn:function({item:i}){return[[e("div",{staticClass:"text-center"},[[e(a.Z,{attrs:{icon:""},on:{click:function(e){return t.deleteItem(i.id)}}},[e(c.Z,{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1)]],2)]]}}],null,!0)}),e(l.Z,{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o.Z,[e(s.EB,[t._v(" Brisanje institucija ")]),e(s.ZB,[t._v(" Da li ste sigurni da želite da obrišete ovu instituciju? ")]),e(r.Z),e(s.h7,[e(d.Z),e(a.Z,{attrs:{color:"info",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Odustani ")]),e(a.Z,{attrs:{color:"primary",text:""},on:{click:function(e){return t.deleteInstitutions(t.id)}}},[t._v(" Obriši ")])],1)],1)],1)],1)],1)},m=[],p=i(3304),h={data:()=>({items:[],dialog:!1,totalNumberOfItems:0,options:{page:1,itemsPerPage:20},headers:[{text:"Naziv",value:"name",sortable:!0},{text:"Zanimanje",value:"profession",sortable:!0},{text:"Kontakt",value:"phone",sortable:!0},{text:"Email",value:"mail",sortable:!0},{text:"Lokacija",value:"location",sortable:!0},{text:"Izmijeni",value:"edit",sortable:!1},{text:"Obriši",value:"delete",sortable:!1}]}),watch:{options:{handler(){this.getDataFromApi()},deep:!0}},methods:{editInstitution(t){this.$router.push({path:`/institution/${t}/edit`,params:{id:t}})},deleteInstitutions(t){p.Z.deleteInstitution(t).then((t=>{console.log(t),window.location.reload()})).catch((t=>{console.log(t.message)}))},deleteItem(t){this.id=t,this.dialog=!0},getDataFromApi(){p.Z.getInstitutionList(this.options.page).then((t=>{this.items=t.data.rows,this.totalNumberOfItems=t.data.count,this.items.forEach((t=>{t.createdAt=new Date(t.createdAt).toLocaleString(),t.updatedAt=new Date(t.updatedAt).toLocaleString()}))})).catch((t=>{console.log(t.response)}))}},mounted(){p.Z.getInstitutionList(this.options.page).then((t=>{this.items=t.data.rows,this.totalNumberOfItems=t.data.count,this.items.forEach((t=>{t.createdAt=new Date(t.createdAt).toLocaleString(),t.updatedAt=new Date(t.updatedAt).toLocaleString()}))})).catch((t=>{console.log(t.response)}))}},f=h,g=i(1001),v=(0,g.Z)(f,u,m,!1,null,"0f02a41e",null),Z=v.exports}}]);
//# sourceMappingURL=1026.9b950f6a.js.map