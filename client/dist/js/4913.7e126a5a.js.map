{"version":3,"file":"js/4913.7e126a5a.js","mappings":"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","sources":["webpack://kofer_psihoalata/./src/components/admin/users/CreateUser.vue","webpack://kofer_psihoalata/src/components/admin/users/CreateUser.vue","webpack://kofer_psihoalata/./src/components/admin/users/CreateUser.vue?7443","webpack://kofer_psihoalata/./src/components/admin/users/CreateUser.vue?510b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{staticClass:\"row text-center justify-center align-center fill-height\",model:{value:(_vm.isValid),callback:function ($$v) {_vm.isValid=$$v},expression:\"isValid\"}},[_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',[_vm._v(\"Kreiranje korisnika\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Ime\",\"rules\":[v => v.length > 0 || 'Morate unijeti ime']},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Prezime\",\"rules\":[v => v.length > 0 || 'Morate unijeti prezime']},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Korisničko ime\",\"required\":\"\",\"rules\":[v => v.length > 0 || 'Morate unijeti korisničko ime', _vm.uniqueUsername]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Lozinka\",\"required\":\"\",\"error-messages\":_vm.errorPassword,\"append-icon\":_vm.showPass ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPass ? 'text' : 'password',\"rules\":[v => v.length > 0 || 'Morate unijeti lozinku']},on:{\"click:append\":function($event){_vm.showPass = !_vm.showPass}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"label\":\"Potvrdite lozinku\",\"required\":\"\",\"rules\":[_vm.passwordConfirmationRule],\"error-messages\":_vm.errorPassword,\"append-icon\":_vm.showRePass ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showRePass ? 'text' : 'password'},on:{\"click:append\":function($event){_vm.showRePass = !_vm.showRePass}},model:{value:(_vm.rePassword),callback:function ($$v) {_vm.rePassword=$$v},expression:\"rePassword\"}}),_c('v-autocomplete',{attrs:{\"filled\":\"\",\"shaped\":\"\",\"items\":_vm.roles,\"item-text\":\"role\",\"item-value\":\"id\",\"disabled\":_vm.isUpdating,\"chips\":\"\",\"deletable-chips\":\"\",\"label\":\"Privilegije\",\"error-messages\":_vm.matchError()},model:{value:(_vm.role),callback:function ($$v) {_vm.role=$$v},expression:\"role\"}}),(_vm.error)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"disabled\":!_vm.isValid,\"color\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Kreiraj\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-form v-model=\"isValid\" class=\"row text-center justify-center align-center fill-height\">\r\n    <v-col sm=\"6\">\r\n      <v-card tile>\r\n        <v-card-title>Kreiranje korisnika</v-card-title>\r\n        <v-card-text>\r\n          <v-text-field\r\n            filled \r\n            shaped \r\n            label=\"Ime\"\r\n            v-model=\"name\"\r\n            :rules=\"[v => v.length > 0 || 'Morate unijeti ime']\"\r\n          ></v-text-field>\r\n          <v-text-field\r\n            filled \r\n            shaped \r\n            label=\"Prezime\"\r\n            v-model=\"lastname\"\r\n            :rules=\"[v => v.length > 0 || 'Morate unijeti prezime']\"\r\n          ></v-text-field>\r\n          <v-text-field\r\n            filled \r\n            shaped \r\n            label=\"Korisničko ime\"\r\n            v-model=\"username\"\r\n            required\r\n            :rules=\"[v => v.length > 0 || 'Morate unijeti korisničko ime', uniqueUsername]\"\r\n          ></v-text-field>\r\n          <v-text-field \r\n            filled \r\n            shaped \r\n            v-model=\"password\" \r\n            label=\"Lozinka\" \r\n            required\r\n            :error-messages=\"errorPassword\"\r\n            :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showPass = !showPass\"\r\n            :type=\"showPass ? 'text' : 'password'\"\r\n            :rules=\"[v => v.length > 0 || 'Morate unijeti lozinku']\"\r\n          >\r\n          </v-text-field>\r\n          <v-text-field\r\n            filled \r\n            shaped \r\n            label=\"Potvrdite lozinku\"\r\n            v-model=\"rePassword\"\r\n            required\r\n            :rules=\"[passwordConfirmationRule]\"\r\n            :error-messages=\"errorPassword\"\r\n            :append-icon=\"showRePass ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showRePass = !showRePass\"\r\n            :type=\"showRePass ? 'text' : 'password'\"\r\n          >\r\n          </v-text-field>\r\n          \r\n          <v-autocomplete \r\n            filled\r\n            shaped\r\n            v-bind:items = roles\r\n            v-model=\"role\"\r\n            item-text = role\r\n            item-value = id\r\n            :disabled=\"isUpdating\"\r\n            chips\r\n            deletable-chips\r\n            label=\"Privilegije\"\r\n            :error-messages='matchError()'\r\n          >\r\n          </v-autocomplete>\r\n          <v-alert type=\"error\" v-if=\"error\">\r\n           {{error}}\r\n          </v-alert>\r\n          \r\n          <v-btn @click=\"onSubmit\" :disabled=\"!isValid\" color=\"primary\">Kreiraj</v-btn>\r\n          \r\n        </v-card-text>\r\n      </v-card>\r\n    </v-col>\r\n  </v-form >\r\n</template>\r\n\r\n<script>\r\nimport requests from \"../../../services/services\"\r\nexport default {\r\n  data: () => ({\r\n    showPass: false,\r\n    showRePass: false,\r\n    errorPassword: '',\r\n    isValid:true,\r\n    name: '',\r\n    lastname: '',\r\n    username: '',\r\n    password: '',\r\n    isUpdating: false,\r\n    rePassword: null,\r\n    error: '',\r\n    roles: [{\"role\" : \"Adinistrator\", \"id\" : 1}, {\"role\" : \"Moderator\", \"id\" : 0}],\r\n    role: null,\r\n    items: [],\r\n    users: []\r\n  }),\r\n\r\n  computed: {\r\n    passwordConfirmationRule() {\r\n      return () => (this.password === this.rePassword) || 'Lozinke se ne poklapaju'\r\n    },\r\n    uniqueUsername() {\r\n      return () => (this.users.includes(this.username) === false) || 'Korisničko ime već postoji'\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    isUpdating (val) {\r\n      if (val) {\r\n        setTimeout(() => (this.isUpdating = false), 3000)\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    onSubmit() {\r\n      requests.newUser({\r\n          \"firstName\": this.name,\r\n          \"lastName\":  this.lastname,\r\n          \"username\": this.username,\r\n          \"password\":  this.password,\r\n          \"role\":  this.role\r\n      })\r\n      .then(response => {\r\n        console.log(response)\r\n        this.$router.push({ path: `/users/` });\r\n      })\r\n      .catch(error => {\r\n        this.error = error\r\n        console.log(error.message)\r\n      })\r\n    },\r\n    remove (item) {\r\n      const index = this.role.indexOf(item.id)\r\n      if (index >= 0) this.role.splice(index, 1)\r\n    },\r\n\r\n    matchError() {  \r\n      return (this.role === null) ? \"Morate unijeti privilegije\" : \"\"\r\n    },\r\n   \r\n  },\r\n  mounted() {\r\n    requests.getUserList()\r\n    .then(response => {\r\n      this.items = response.data\r\n      this.items.forEach(item => {\r\n        this.users.push(item.username)\r\n      })\r\n    })\r\n    .catch(error => {\r\n      this.error = error\r\n      console.log(error.message)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.row .fill-height {\r\n    height: 85vh !important;\r\n    align-items: center !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateUser.vue?vue&type=template&id=dcc1ae84&scoped=true&\"\nimport script from \"./CreateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateUser.vue?vue&type=style&index=0&id=dcc1ae84&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dcc1ae84\",\n  null\n  \n)\n\nexport default component.exports"],"names":["expression","_c","attrs","model","value","_vm","$$v","v","length","lastname","callback","showPass","on","password","passwordConfirmationRule","showRePass","rePassword","role","onSubmit","staticRenderFns","data","errorPassword","isValid","name","username","isUpdating","error","roles","items","users","computed","uniqueUsername","watch","setTimeout","methods","requests","then","response","console","path","catch","remove","matchError","mounted","component","render"],"sourceRoot":""}