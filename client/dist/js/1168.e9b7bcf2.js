(self["webpackChunkkofer_psihoalata"]=self["webpackChunkkofer_psihoalata"]||[]).push([[1168],{8954:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var s=t(7359),o=t(6190),n=t(9582),a=t(4886),i=t(266),l=t(5125),c=t(1713),u=t(7808),d=function(){var e=this,r=e._self._c;return e.currentUser?r(l.Z,{model:{value:e.isValid,callback:function(r){e.isValid=r},expression:"isValid"}},[r(c.Z,{attrs:{justify:"center"}},[r(i.Z,{attrs:{sm:"10"}},[r(n.Z,{attrs:{tile:""}},[r(a.ZB,[r(u.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti ime"],label:"Ime"},model:{value:e.currentUser.firstName,callback:function(r){e.$set(e.currentUser,"firstName",r)},expression:"currentUser.firstName"}}),r(u.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti prezime"],label:"Prezime"},model:{value:e.currentUser.lastName,callback:function(r){e.$set(e.currentUser,"lastName",r)},expression:"currentUser.lastName"}}),r(u.Z,{attrs:{filled:"",shaped:"",rules:[e=>e.length>1||"Morate unijeti korisničko ime"],label:"Korisničko ime"},model:{value:e.currentUser.username,callback:function(r){e.$set(e.currentUser,"username",r)},expression:"currentUser.username"}}),r(u.Z,{attrs:{filled:"",shaped:"",label:"Nova lozinka",required:"","error-messages":e.errorPassword,rules:[e=>e.length>0||"Morate unijeti lozinku"],"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password"},on:{"click:append":function(r){e.showPass=!e.showPass}},model:{value:e.newpassword,callback:function(r){e.newpassword=r},expression:"newpassword"}}),r(u.Z,{attrs:{filled:"",shaped:"",label:"Potvrdite novu lozinku",required:"",rules:[e.passwordConfirmationRule,e.cannotEmpty],"error-messages":e.errorPassword,"append-icon":e.showRePass?"mdi-eye":"mdi-eye-off",type:e.showRePass?"text":"password"},on:{"click:append":function(r){e.showRePass=!e.showRePass}},model:{value:e.rePassword,callback:function(r){e.rePassword=r},expression:"rePassword"}}),e.error?r(s.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),r(o.Z,{attrs:{disabled:!e.isValid,color:"primary"},on:{click:e.onSubmit}},[e._v("Izmijeni")])],1)],1)],1)],1)],1):e._e()},p=[],m=(t(2801),t(3304)),E={data:()=>({currentUser:null,isValid:!0,isUpdating:!1,showPass:!1,showRePass:!1,errorPassword:"",newpassword:"",rePassword:"",error:""}),computed:{passwordConfirmationRule(){return()=>this.newpassword===this.rePassword||"Lozinke se ne poklapaju"},cannotEmpty(){return()=>""!==this.newpassword||""!==this.rePassword||"Morate unijeti lozinku"}},watch:{isUpdating(e){e&&setTimeout((()=>this.isUpdating=!1),3e3)}},methods:{onSubmit(){m.Z.editUser(this.$route.params.id,{firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,username:this.currentUser.username,password:this.newpassword}).then((e=>{console.log(e.data);let r=decodeURIComponent(escape(atob(localStorage.getItem("token").split(".")[1]))),t=JSON.parse(r),s=t.id;parseInt(this.$route.params.id)===s&&(localStorage.removeItem("token"),this.$router.push({path:"/login"}))})).catch((e=>{this.error=e.response.data.message,console.log(e)}))},getUsers(e){m.Z.getUser(e).then((e=>{this.currentUser=e.data})).catch((e=>{console.log(e)}))}},mounted(){this.getUsers(this.$route.params.id)}},f=E,R=t(1001),h=(0,R.Z)(f,d,p,!1,null,null,null),w=h.exports},5787:function(e,r,t){var s=t(7976),o=TypeError;e.exports=function(e,r){if(s(r,e))return e;throw o("Incorrect invocation")}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},2801:function(e,r,t){"use strict";var s=t(2109),o=t(7854),n=t(5005),a=t(9114),i=t(3070).f,l=t(2597),c=t(5787),u=t(9587),d=t(6277),p=t(3678),m=t(7741),E=t(9781),f=t(1913),R="DOMException",h=n("Error"),w=n(R),g=function(){c(this,_);var e=arguments.length,r=d(e<1?void 0:arguments[0]),t=d(e<2?void 0:arguments[1],"Error"),s=new w(r,t),o=h(r);return o.name=R,i(s,"stack",a(1,m(o.stack,1))),u(s,this,g),s},_=g.prototype=w.prototype,I="stack"in h(R),N="stack"in new w(1,2),y=w&&E&&Object.getOwnPropertyDescriptor(o,R),v=!!y&&!(y.writable&&y.configurable),U=I&&!v&&!N;s({global:!0,constructor:!0,forced:f||U},{DOMException:U?g:w});var k=n(R),S=k.prototype;if(S.constructor!==k)for(var A in f||i(S,"constructor",a(1,k)),p)if(l(p,A)){var T=p[A],O=T.s;l(k,O)||i(k,O,a(6,T.c))}},1713:function(e,r,t){"use strict";t(1884);var s=t(144),o=t(1767),n=t(5352);const a=["sm","md","lg","xl"],i=["start","end","center"];function l(e,r){return a.reduce(((t,s)=>(t[e+(0,n.jC)(s)]=r(),t)),{})}const c=e=>[...i,"baseline","stretch"].includes(e),u=l("align",(()=>({type:String,default:null,validator:c}))),d=e=>[...i,"space-between","space-around"].includes(e),p=l("justify",(()=>({type:String,default:null,validator:d}))),m=e=>[...i,"space-between","space-around","stretch"].includes(e),E=l("alignContent",(()=>({type:String,default:null,validator:m}))),f={align:Object.keys(u),justify:Object.keys(p),alignContent:Object.keys(E)},R={align:"align",justify:"justify",alignContent:"align-content"};function h(e,r,t){let s=R[e];if(null!=t){if(r){const t=r.replace(e,"");s+=`-${t}`}return s+=`-${t}`,s.toLowerCase()}}const w=new Map;r["Z"]=s.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...p,alignContent:{type:String,default:null,validator:m},...E},render(e,{props:r,data:t,children:s}){let n="";for(const o in r)n+=String(r[o]);let a=w.get(n);if(!a){let e;for(e in a=[],f)f[e].forEach((t=>{const s=r[t],o=h(e,t,s);o&&a.push(o)}));a.push({"no-gutters":r.noGutters,"row--dense":r.dense,[`align-${r.align}`]:r.align,[`justify-${r.justify}`]:r.justify,[`align-content-${r.alignContent}`]:r.alignContent}),w.set(n,a)}return e(r.tag,(0,o.ZP)(t,{staticClass:"row",class:a}),s)}})}}]);
//# sourceMappingURL=1168.e9b7bcf2.js.map